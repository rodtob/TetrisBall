[{"C:\\Users\\Rod\\Desktop\\TetrisBall\\src\\index.js":"1","C:\\Users\\Rod\\Desktop\\TetrisBall\\src\\OrbitControls.js":"2"},{"size":13599,"mtime":1612539118195,"results":"3","hashOfConfig":"4"},{"size":25938,"mtime":1612535566014,"results":"5","hashOfConfig":"4"},{"filePath":"6","messages":"7","errorCount":68,"warningCount":41,"fixableErrorCount":0,"fixableWarningCount":3,"source":"8"},"hb22zb",{"filePath":"9","messages":"10","errorCount":48,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"11","usedDeprecatedRules":"12"},"C:\\Users\\Rod\\Desktop\\TetrisBall\\src\\index.js",["13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121"],"import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as THREE from \"three\";\nimport * as Physijs from  'physijs-webpack'\n\nclass App extends Component {\n  componentDidMount() {\n    const titulocambia = document.getElementById('titulo');\n\nfunction fadeout(){\n    titulocambia.classList.toggle('fade-out');\n}\n\nvar camera, keyboard, renderer, scene, light, geometry, material, lacabra, piso, mpiso, pisomaterial,\nphysics_stats, table, intersect_plane, table_material, ground, setMousePosition, mouse_position, box, sphere_material,\nborde_left, borde_right, box1, box2, piso, cubo, mtrap, trap, prectangular, transparente, materialClip, cliprombo_material,\nnuevapelota, cristal, impulse, frames, tet2_material, rombo, tet1_material, pivot, Lpivot, pDerecha, pIzq, puntos, latimeLine,\nscoreboard, score = {player1: 0};\n\n\nvar keyboard = {};\n\nscoreboard = document.getElementById('scoreBoard');\n\nvar tri;\n\nvar raycaster = new THREE.Raycaster();\n\n\n\n//BASE\n\nfunction init(){\n\nframes = 0;\n\npuntos = 0;\n\nimpusle = new THREE.Vector3;\n            impusle.set( 0, 0, 0 );\n\ncamera = new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,0.1,1000);\n\n\nrenderer = new THREE.WebGLRenderer({antialias: true});\n\n          renderer.setClearColor(\"#000000\");\n          renderer.setSize(window.innerWidth, window.innerHeight);\n          renderer.shadowMap.enabled = true;\n          renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\n          document.body.appendChild(renderer.domElement);\n\ncontrols = new THREE.OrbitControls(camera, renderer.domElement);\n\ncontrols.enableKeys = false;\n\nwindow.addEventListener('resize', () => {\nrenderer.setSize(window.innerWidth, window.innerHeight);\ncamera.aspect = window.innerWidth/window.innerHeight;\n\ncamera.updateProjectionMatrix();\n});\n\n\nscene = new Physijs.Scene;\n\tscene.setGravity(new THREE.Vector3( 0, -3, 0 ));\n\t\tscene.addEventListener(\n\t\t\t'update',\n            \n          function() {\n            scene.simulate( undefined, 1 );\n            impusle = new THREE.Vector3;\n            impusle.set( 0, 0, 0 );\n            sphere.applyCentralImpulse( impusle);\n            }\n\t\t);\n\nlight = new THREE.SpotLight(  0xffffff, 0.5 );\nlight.intensity = 2;\n\nvar spotLightHelper = new THREE.SpotLightHelper( light );\nscene.add( light);\n\nlight.position.set(0,10,20);\n\n\n\n//MATERIALES\n\n\nmaterialClip = new THREE.MeshLambertMaterial( {\n    color: 0x80ee10,\n    shininess: 10,\n} );\n\n\ncliprombo_material = new Physijs.createMaterial(\n    materialClip,\n    6, // friction\n    0.2 // restitution\n);\n\n\nground_material = new Physijs.createMaterial(\n    new THREE.MeshLambertMaterial({ color:0x2348888 }),\n    6, // friction\n    0.2// restitution\n);\n\npaleta_material = new Physijs.createMaterial(\n    new THREE.MeshLambertMaterial({ color:0xab76db }),\n    6, // friction\n    3// restitution\n);\n\npivot_material = new Physijs.createMaterial(\n    new THREE.MeshLambertMaterial({ color:0xef46db }),\n    6, // friction\n    0.2 //restitution\n);\n\ntet1_material = new Physijs.createMaterial(\n    new THREE.MeshLambertMaterial({ color:0xac5861 }),\n    6, // hfriction\n    0.2// restitution\n);\n\ntet2_material = new Physijs.createMaterial(\n    new THREE.MeshLambertMaterial({ color:0x9265ba }),\n    6, \n    0.2\n);\n\ntransparente = new THREE.MeshLambertMaterial({color: 0xff0000, transparent: true, opacity: 0.3});\n\nsphere_material = new Physijs.createMaterial(\n    new THREE.MeshLambertMaterial({ color:0xab76db }),\n    2, // slippery\n    7 // bounciness\n);\n\n\n\n//OBJETOS\n\n\nrombo = new Physijs.BoxMesh(\n        new THREE.CubeGeometry( 2, 2, 0.5 ),\n        cliprombo_material,\n        0\n        );\n\nbotonL = new Physijs.BoxMesh(\n        new THREE.CubeGeometry( 2, 2, 0.5 ),\n        paleta_material ,\n         0\n         );\n         botonLp = new Physijs.BoxMesh(\n            new THREE.CubeGeometry( 1, 1, 0.5 ),\n            cliprombo_material ,\n             0\n             );\n            botonL.add(botonLp)  \n            botonLp.position.z = 0.5;\n\nbotonR = new Physijs.BoxMesh(\n         new THREE.CubeGeometry( 2,2, 0.5 ),\n         paleta_material,\n         0\n         );  \n         botonRp = new Physijs.BoxMesh(\n            new THREE.CubeGeometry( 1, 1, 0.5 ),\n            cliprombo_material,\n            0\n            );        \n            botonR.add(botonRp)  \n            botonRp.position.z = 0.5;\n\n\nsphere = new Physijs.SphereMesh( \n         new THREE.SphereBufferGeometry( 0.4, 0.4, 5 ),\n            sphere_material,0);\n\npIzq = new Physijs.BoxMesh(\n           new THREE.CubeGeometry( 2.5, 0.5, 1,5,5,5 ),\n           paleta_material,\n           1\n           );\n\npDerecha = new Physijs.BoxMesh(\n           new THREE.CubeGeometry( 2.5, 0.5, 1,5,5,5 ),\n           paleta_material,\n           1\n           );\n\ncubo = new Physijs.BoxMesh(\n        new THREE.BoxBufferGeometry( 1, 1, 1 ),\n        pivot_material,\n        0\n        );\n\npivot = new Physijs.BoxMesh(\n    new THREE.BoxBufferGeometry( 0.5, 0.5, 1 ),\n    pivot_material,\n    0\n    );\n\nLpivot = new Physijs.BoxMesh(\n    new THREE.BoxBufferGeometry( 0.5, 0.5, 1 ),\n    pivot_material,\n    0\n    );;\n\npiso = new Physijs.BoxMesh(\n     new THREE.BoxBufferGeometry( 14, 3, 1 ),\n     tet2_material,\n     0\n    );\n\nbox = new Physijs.BoxMesh(\n    new THREE.BoxBufferGeometry( 5, 0.2, 5 ),\n    ground_material,\n    0\n);\n\ncristal = new Physijs.BoxMesh(\n    new THREE.CubeGeometry( 14,19, 0.2 ),\n    transparente,\n    0\n);\n\n\ntecho =  new Physijs.BoxMesh(\n    new THREE.BoxBufferGeometry( 14, 1, 1 ),\n    ground_material,\n    0\n);\n\n\nborde_left =  new Physijs.BoxMesh(\n    new THREE.BoxBufferGeometry( 0.3, 20, 2 ),\n    ground_material,\n    0\n);\n\n\nborde_right =  new Physijs.BoxMesh(\n    new THREE.BoxBufferGeometry( 0.3, 20, 2 ),\n    ground_material,\n    0\n);\n\nborde_right.position.set(7.2,0,1);\nborde_left.position.set(-7.2,0,1);\ntecho.position.set(0,9.5,1);\n\nbotonR.position.set(8.2,-5.4,1);\nbotonL.position.set(-8.2,-5.4,1);\nscene.add(botonL);\nscene.add(botonR);\n\nscene.add(borde_left);\nscene.add(techo);\nscene.add(borde_right);\ncristal.position.z = 1;\nrombo.rotation.z = 0.785398;\nrombo.position.set(0,4.5,1);\nbox.position.set(0,0,0.5);\ncristal.position.z = 1.5;\nbox.rotation.x = Math.PI/2;\nbox.scale.set(3,1,4);\nsphere.position.set(-3,3,1);\nscene.add( box );\npivot.position.set(3.7,-4.5,1);\npivot.rotation.z = 0.2;\nLpivot.scale.set(-1,1,-1);\nLpivot.position.set(-3.7,-4.5,1);\npIzq.position.set(1.6,0,0);\npDerecha.position.set(-1.6,0,0);\nLpivot.scale.set(1,-1,1);\nLpivot.rotation.z = -0.2;\npiso.position.set(0,-8.3,1)\n\ncubo.position.set(-6.5,-4,1);\nLpivot.add(pIzq);\npivot.add(pDerecha);\nscene.add(pivot);\nscene.add(Lpivot);\nscene.add(piso);\nscene.add(rombo,cristal);\nscene.add(cristal);\n\ncamera.position.z = 30;\nscene.add(light, light.target,camera,ground);\n\n//LADOizq\ncrearRombos(4,0.4,-6,3.4, 0.35);\ncrearRombos(3,0.4,-6,-2.8, 0.35);\ncrearRombos(1,1,-5.3,-6,2);\ncrearRombos(1,0.7,-6,0,2);\n\n//LADOder\ncrearRombos(4,0.4,6,3.4, 0.35);\ncrearRombos(3,0.4,6,-2.8, 0.35);\ncrearRombos(1,1,5.3,-6,2);\ncrearRombos(1,0.7,6,0,2);\n\n\n\n//INTERACTIVIDAD\n\n\nconst domEvents = new THREEx.DomEvents(camera, renderer.domElement);\n\ndomEvents.addEventListener(botonR, 'click', event =>{\n    moverPderecha();\n})\n\n\ndomEvents.addEventListener(botonL, \"click\", event =>{\n    moverPizquierda();\n})\n\n\nlatimeLine = new TimelineMax();\n\n\n\nanimate();\n\n\n}\n\n\n//FUNCIONES\n\n\n\nfunction moverboton(boton){\n    latimeLine.to(boton.position, 0.5, {z:1.2, ease: Expo.easeOut});\n    latimeLine.to(boton.position, 0.5, {z:1, ease: Expo.easeOut});\n};\n\n\nfunction crearRombos(cantidad, tamano, lugarx, lugary, espacioentre){\n    var j = 0;\n    for (var i = 0; i < cantidad; i++){\n        otrorombo = new Physijs.BoxMesh(\n            new THREE.CubeGeometry( 2, 2, 0.5 ),\n            paleta_material,\n            0\n            );\n    \n            lugary += espacioentre;\n            otrorombo.position.y = i + lugary;\n            otrorombo.position.z = 1;\n            otrorombo.position.x = lugarx;\n            otrorombo.scale.set(tamano,tamano, tamano);\n            otrorombo.rotation.z = 0.785398; \n            scene.add(otrorombo);\n    }\n}\n\n\n\nfunction moverPderecha(){\n    latimeLine.to(pivot.rotation, 0.1, {z:-1.4, ease: Expo.easeOut});\n    latimeLine.to(pivot.rotation, 1.1, {z:0.2, ease: Expo.easeOut});\n}\n\nfunction moverPizquierda(){\n    latimeLine.to(Lpivot.rotation, 0.1, {z:1.4, ease: Expo.easeOut});\n    latimeLine.to(Lpivot.rotation, 1.1, {z:-0.2, ease: Expo.easeOut});\n}\n\n\nfunction moverPalancas(){\n    pDerecha.__dirtyRotation = true;\n    pivot.__dirtyRotation = true;\n    pIzq.__dirtyRotation = true;\n    Lpivot.__dirtyRotation = true;\n    pDerecha.__dirtyPosition = true;\n    pivot.__dirtyPosition = true;\n    pIzq.__dirtyPosition = true;\n    Lpivot.__dirtyPosition = true;\n    botonL.__dirtyPosition = true;\n    botonR.__dirtyPosition = true;\n};\n\nfunction moverCamara(){\n    camera.position.z = 24;\n    camera.position.y = 1;\n    camera.rotation.x = -0.0003;\n};\n\nfunction keyDown(event){\n    keyboard[event.keyCode] = true;\n}\n\nfunction keyUp(event){\n    keyboard[event.keyCode] = false;\n}\n\nfunction keyLeft(event){\n    keyboard[event.keyCode] = true;\n}\n\nfunction keyRight(event){\n    keyboard[event.keyCode] = false;\n}\n\n\nfunction generarPelota(){\n    nuevapelota = new Physijs.SphereMesh( \n           new THREE.SphereBufferGeometry( 0.4, 20, 20 ),\n           sphere_material, 3);\n        \n\n    var num = Math.floor(Math.random()*5) + 1; \n        num *= Math.floor(Math.random()*1.5) == 1 ? 1 : -1;\n    nuevapelota.position.set(num,6, 1);\n\n\n    return scene.add(nuevapelota);\n}\n\nfunction updateScoreBoard() {\n    scoreBoard.innerHTML = 'Score: ' + score.player1;\n    scoreBoard.style.position = 'absolute';\n}\n\nfunction mensajeGanaste(){\n    scoreBoard.innerHTML = 'Ganaste';\n    scoreBoard.style.fontsize = '20%';\n}\n\nfunction addPoint(){\n    score.player1 +=1;\n  }\n\n  \nfunction golpeColor(obj1,obj2,obj3, colore){\n\n    box1 = new THREE.Box3().setFromObject(obj1);\n\n    box2 = new THREE.Box3().setFromObject(obj2);\n\n    box1.expandByScalar ( 1.2 );\n\n    var intersects = box1.intersectsBox(box2);\n    if( intersects && obj3.material.color != colore){\n        obj3.material.color.setHex(colore);\n    } else {\n        obj3.material.color.setHex(0x992073);\n    }\n}\n\n\nfunction inter(obj1,obj2){\n    box1 = new THREE.Box3().setFromObject(obj1);\n\n    box2 = new THREE.Box3().setFromObject(obj2);\n\n    var intersects = box1.intersectsBox(box2);\n\n    if( intersects ){\n        score.player1 -= 1;\n        sacarynpelota();\n        if (frames % 2 == 0){\n            btron(1,Math.random()*2,-1,0x8f34eb)\n            } else if( frames% 3 == 0) {\n                btrin(1,Math.random()*2,-1,0x992073)\n                } else {\n                    barrita(1,Math.random()*2,-1,0xffec40)\n                     }\n    }\n\n}\n\nfunction crearCubo(colore){\n\n  var geo = new THREE.CubeGeometry( 0.46, 0.46, 0.46 )\n\n  var material = new Physijs.createMaterial(\n    new THREE.MeshLambertMaterial({ color:colore }),\n    6, // high friction\n    0.1 // low restitution\n);\n  \n  var ncubo = new Physijs.BoxMesh(\n        geo,\n        material,\n        1\n        );\n\n    return ncubo;\n\n}\n\n\n\nfunction barrita(tamano, x, y, colore){\n    var group = new Physijs.BoxMesh(\n        new THREE.BoxBufferGeometry( 0.1, 0.1, 0.1 ),\n        pivot_material,\n        1);\n    for (var i = 0; i < 4; i++ ){\n        var barrita = crearCubo(colore);\n        barrita.position.x = 0;\n        barrita.position.y = i/2;\n        group.add(barrita);\n    }\n    group.scale.set(tamano,tamano,tamano);\n    group.position.set(x,y,1)\n    group.rotation.z = 0;\n\n    scene.add(group);\n}\n\n\nfunction btrin(tamano,x,y,colore){\n    var group = new Physijs.BoxMesh(\n        new THREE.BoxBufferGeometry( 0.1, 0.1, 0.1 ),\n        tet2_material,\n        0.2);\n    for (var i = 0; i < 3; i++ ){\n        var btrin = crearCubo(colore);\n        btrin.position.x = 0;\n        btrin.position.y = i/2;\n\n        group.add(btrin);\n\n    }\n    var eldearriba = crearCubo(colore)\n    eldearriba.position.x = -0.5;\n    group.add(eldearriba);\n    group.scale.set(tamano,tamano,tamano);\n    group.position.set(x,y,1)\n    scene.add(group);\n}\n\nfunction btron(tamano,x,y, colore){\n    var group = new Physijs.BoxMesh(\n        new THREE.BoxBufferGeometry( 0.1, 0.1, 0.1 ),\n        pivot_material,\n        1);\n    for (var i = 0; i < 3; i++ ){\n        var btrin = crearCubo(colore);\n        btrin.position.x = 0;\n        btrin.position.y = i/2;\n        group.add(btrin);\n    }\n\n    var eldearriba = crearCubo(colore)\n    eldearriba.position.x = -0.5;\n    eldearriba.position.y = 0.5;\n    group.add(eldearriba);\n    group.scale.set(tamano,tamano,tamano);\n    group.position.set(x,y,1)\n\n    scene.add(group);\n}\n\nfunction sacarynpelota(){\n    scene.remove(nuevapelota);\n    generarPelota();\n}\n\n\n\n\n\n//LOOP\n\n\nfunction animate() {\n    scene.simulate();\n\n    scene.addEventListener('update', moverPalancas);\n\n    \n    \n    if (frames == 0){\n        generarPelota();\n    }\n    \n    if (nuevapelota != undefined){\n        nuevapelota.applyCentralImpulse( impusle);\n    };\n    golpeColor(rombo, nuevapelota, rombo, 0Xf7ed2d);\n    inter(piso, nuevapelota);\n  \n    updateScoreBoard();\n    if (score.player1 > 400){\n        mensajeGanaste();\n    }\n\n    scene.addEventListener(\"update\", function(){\n        scene.simulate(undefined, 2);\n    });\n\n    renderer.render(scene, camera);\n    frames += 1;\n    requestAnimationFrame(animate);\n};\n\n\n\n\n window.onload = init;\n\n    // === THREE.JS EXAMPLE CODE END ===\n  }\n  render() {\n    return (\n      <div />\n    )\n  }\n}\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);","C:\\Users\\Rod\\Desktop\\TetrisBall\\src\\OrbitControls.js",["122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175"],"console.warn( \"THREE.OrbitControls: As part of the transition to ES6 Modules, the files in 'examples/js' were deprecated in May 2020 (r117) and will be deleted in December 2020 (r124). You can find more information about developing using ES6 Modules in https://threejs.org/docs/index.html#manual/en/introduction/Import-via-modules.\" );\r\n/**\r\n * @author qiao / https://github.com/qiao\r\n * @author mrdoob / http://mrdoob.com\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author WestLangley / http://github.com/WestLangley\r\n * @author erich666 / http://erichaines.com\r\n * @author ScieCode / http://github.com/sciecode\r\n */\r\n\r\n// This set of controls performs orbiting, dollying (zooming), and panning.\r\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\r\n//\r\n//    Orbit - left mouse / touch: one-finger move\r\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\r\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\r\n\r\nTHREE.OrbitControls = function ( object, domElement ) {\r\n\r\n\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\r\n\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\r\n\r\n\tthis.object = object;\r\n\tthis.domElement = domElement;\r\n\r\n\t// Set to false to disable this control\r\n\tthis.enabled = true;\r\n\r\n\t// \"target\" sets the location of focus, where the object orbits around\r\n\tthis.target = new THREE.Vector3();\r\n\r\n\t// How far you can dolly in and out ( PerspectiveCamera only )\r\n\tthis.minDistance = 0;\r\n\tthis.maxDistance = Infinity;\r\n\r\n\t// How far you can zoom in and out ( OrthographicCamera only )\r\n\tthis.minZoom = 0;\r\n\tthis.maxZoom = Infinity;\r\n\r\n\t// How far you can orbit vertically, upper and lower limits.\r\n\t// Range is 0 to Math.PI radians.\r\n\tthis.minPolarAngle = 0; // radians\r\n\tthis.maxPolarAngle = Math.PI; // radians\r\n\r\n\t// How far you can orbit horizontally, upper and lower limits.\r\n\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\r\n\tthis.minAzimuthAngle = - Infinity; // radians\r\n\tthis.maxAzimuthAngle = Infinity; // radians\r\n\r\n\t// Set to true to enable damping (inertia)\r\n\t// If damping is enabled, you must call controls.update() in your animation loop\r\n\tthis.enableDamping = false;\r\n\tthis.dampingFactor = 0.05;\r\n\r\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\r\n\t// Set to false to disable zooming\r\n\tthis.enableZoom = true;\r\n\tthis.zoomSpeed = 1.0;\r\n\r\n\t// Set to false to disable rotating\r\n\tthis.enableRotate = true;\r\n\tthis.rotateSpeed = 1.0;\r\n\r\n\t// Set to false to disable panning\r\n\tthis.enablePan = true;\r\n\tthis.panSpeed = 1.0;\r\n\tthis.screenSpacePanning = false; // if true, pan in screen-space\r\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\r\n\r\n\t// Set to true to automatically rotate around the target\r\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\r\n\tthis.autoRotate = false;\r\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\r\n\r\n\t// Set to false to disable use of the keys\r\n\tthis.enableKeys = true;\r\n\r\n\t// The four arrow keys\r\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\r\n\r\n\t// Mouse buttons\r\n\tthis.mouseButtons = { LEFT: THREE.MOUSE.ROTATE, MIDDLE: THREE.MOUSE.DOLLY, RIGHT: THREE.MOUSE.PAN };\r\n\r\n\t// Touch fingers\r\n\tthis.touches = { ONE: THREE.TOUCH.ROTATE, TWO: THREE.TOUCH.DOLLY_PAN };\r\n\r\n\t// for reset\r\n\tthis.target0 = this.target.clone();\r\n\tthis.position0 = this.object.position.clone();\r\n\tthis.zoom0 = this.object.zoom;\r\n\r\n\t//\r\n\t// public methods\r\n\t//\r\n\r\n\tthis.getPolarAngle = function () {\r\n\r\n\t\treturn spherical.phi;\r\n\r\n\t};\r\n\r\n\tthis.getAzimuthalAngle = function () {\r\n\r\n\t\treturn spherical.theta;\r\n\r\n\t};\r\n\r\n\tthis.saveState = function () {\r\n\r\n\t\tscope.target0.copy( scope.target );\r\n\t\tscope.position0.copy( scope.object.position );\r\n\t\tscope.zoom0 = scope.object.zoom;\r\n\r\n\t};\r\n\r\n\tthis.reset = function () {\r\n\r\n\t\tscope.target.copy( scope.target0 );\r\n\t\tscope.object.position.copy( scope.position0 );\r\n\t\tscope.object.zoom = scope.zoom0;\r\n\r\n\t\tscope.object.updateProjectionMatrix();\r\n\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\tscope.update();\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t};\r\n\r\n\t// this method is exposed, but perhaps it would be better if we can make it private...\r\n\tthis.update = function () {\r\n\r\n\t\tvar offset = new THREE.Vector3();\r\n\r\n\t\t// so camera.up is the orbit axis\r\n\t\tvar quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\r\n\t\tvar quatInverse = quat.clone().inverse();\r\n\r\n\t\tvar lastPosition = new THREE.Vector3();\r\n\t\tvar lastQuaternion = new THREE.Quaternion();\r\n\r\n\t\treturn function update() {\r\n\r\n\t\t\tvar position = scope.object.position;\r\n\r\n\t\t\toffset.copy( position ).sub( scope.target );\r\n\r\n\t\t\t// rotate offset to \"y-axis-is-up\" space\r\n\t\t\toffset.applyQuaternion( quat );\r\n\r\n\t\t\t// angle from z-axis around y-axis\r\n\t\t\tspherical.setFromVector3( offset );\r\n\r\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\r\n\r\n\t\t\t\trotateLeft( getAutoRotationAngle() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( scope.enableDamping ) {\r\n\r\n\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\r\n\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tspherical.theta += sphericalDelta.theta;\r\n\t\t\t\tspherical.phi += sphericalDelta.phi;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// restrict theta to be between desired limits\r\n\t\t\tspherical.theta = Math.max( scope.minAzimuthAngle, Math.min( scope.maxAzimuthAngle, spherical.theta ) );\r\n\r\n\t\t\t// restrict phi to be between desired limits\r\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\r\n\r\n\t\t\tspherical.makeSafe();\r\n\r\n\r\n\t\t\tspherical.radius *= scale;\r\n\r\n\t\t\t// restrict radius to be between desired limits\r\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\r\n\r\n\t\t\t// move target to panned location\r\n\r\n\t\t\tif ( scope.enableDamping === true ) {\r\n\r\n\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tscope.target.add( panOffset );\r\n\r\n\t\t\t}\r\n\r\n\t\t\toffset.setFromSpherical( spherical );\r\n\r\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\r\n\t\t\toffset.applyQuaternion( quatInverse );\r\n\r\n\t\t\tposition.copy( scope.target ).add( offset );\r\n\r\n\t\t\tscope.object.lookAt( scope.target );\r\n\r\n\t\t\tif ( scope.enableDamping === true ) {\r\n\r\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\r\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\r\n\r\n\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\r\n\r\n\t\t\t\tpanOffset.set( 0, 0, 0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tscale = 1;\r\n\r\n\t\t\t// update condition is:\r\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\r\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\r\n\r\n\t\t\tif ( zoomChanged ||\r\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\r\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\r\n\r\n\t\t\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\t\t\tlastPosition.copy( scope.object.position );\r\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\r\n\t\t\t\tzoomChanged = false;\r\n\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tthis.dispose = function () {\r\n\r\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\r\n\t\tscope.domElement.removeEventListener( 'mousedown', onMouseDown, false );\r\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\r\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\r\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\r\n\r\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\r\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'keydown', onKeyDown, false );\r\n\r\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\r\n\r\n\t};\r\n\r\n\t//\r\n\t// internals\r\n\t//\r\n\r\n\tvar scope = this;\r\n\r\n\tvar changeEvent = { type: 'change' };\r\n\tvar startEvent = { type: 'start' };\r\n\tvar endEvent = { type: 'end' };\r\n\r\n\tvar STATE = {\r\n\t\tNONE: - 1,\r\n\t\tROTATE: 0,\r\n\t\tDOLLY: 1,\r\n\t\tPAN: 2,\r\n\t\tTOUCH_ROTATE: 3,\r\n\t\tTOUCH_PAN: 4,\r\n\t\tTOUCH_DOLLY_PAN: 5,\r\n\t\tTOUCH_DOLLY_ROTATE: 6\r\n\t};\r\n\r\n\tvar state = STATE.NONE;\r\n\r\n\tvar EPS = 0.000001;\r\n\r\n\t// current position in spherical coordinates\r\n\tvar spherical = new THREE.Spherical();\r\n\tvar sphericalDelta = new THREE.Spherical();\r\n\r\n\tvar scale = 1;\r\n\tvar panOffset = new THREE.Vector3();\r\n\tvar zoomChanged = false;\r\n\r\n\tvar rotateStart = new THREE.Vector2();\r\n\tvar rotateEnd = new THREE.Vector2();\r\n\tvar rotateDelta = new THREE.Vector2();\r\n\r\n\tvar panStart = new THREE.Vector2();\r\n\tvar panEnd = new THREE.Vector2();\r\n\tvar panDelta = new THREE.Vector2();\r\n\r\n\tvar dollyStart = new THREE.Vector2();\r\n\tvar dollyEnd = new THREE.Vector2();\r\n\tvar dollyDelta = new THREE.Vector2();\r\n\r\n\tfunction getAutoRotationAngle() {\r\n\r\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\r\n\r\n\t}\r\n\r\n\tfunction getZoomScale() {\r\n\r\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\r\n\r\n\t}\r\n\r\n\tfunction rotateLeft( angle ) {\r\n\r\n\t\tsphericalDelta.theta -= angle;\r\n\r\n\t}\r\n\r\n\tfunction rotateUp( angle ) {\r\n\r\n\t\tsphericalDelta.phi -= angle;\r\n\r\n\t}\r\n\r\n\tvar panLeft = function () {\r\n\r\n\t\tvar v = new THREE.Vector3();\r\n\r\n\t\treturn function panLeft( distance, objectMatrix ) {\r\n\r\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\r\n\t\t\tv.multiplyScalar( - distance );\r\n\r\n\t\t\tpanOffset.add( v );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tvar panUp = function () {\r\n\r\n\t\tvar v = new THREE.Vector3();\r\n\r\n\t\treturn function panUp( distance, objectMatrix ) {\r\n\r\n\t\t\tif ( scope.screenSpacePanning === true ) {\r\n\r\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\r\n\t\t\t\tv.crossVectors( scope.object.up, v );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tv.multiplyScalar( distance );\r\n\r\n\t\t\tpanOffset.add( v );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\t// deltaX and deltaY are in pixels; right and down are positive\r\n\tvar pan = function () {\r\n\r\n\t\tvar offset = new THREE.Vector3();\r\n\r\n\t\treturn function pan( deltaX, deltaY ) {\r\n\r\n\t\t\tvar element = scope.domElement;\r\n\r\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\t\t// perspective\r\n\t\t\t\tvar position = scope.object.position;\r\n\t\t\t\toffset.copy( position ).sub( scope.target );\r\n\t\t\t\tvar targetDistance = offset.length();\r\n\r\n\t\t\t\t// half of the fov is center to top of screen\r\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\r\n\r\n\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\r\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\r\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\r\n\r\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\t// orthographic\r\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\r\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// camera neither orthographic nor perspective\r\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\r\n\t\t\t\tscope.enablePan = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tfunction dollyOut( dollyScale ) {\r\n\r\n\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\tscale /= dollyScale;\r\n\r\n\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\r\n\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\tzoomChanged = true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\t\t\tscope.enableZoom = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction dollyIn( dollyScale ) {\r\n\r\n\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\tscale *= dollyScale;\r\n\r\n\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\r\n\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\tzoomChanged = true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\t\t\tscope.enableZoom = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//\r\n\t// event callbacks - update the object state\r\n\t//\r\n\r\n\tfunction handleMouseDownRotate( event ) {\r\n\r\n\t\trotateStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseDownDolly( event ) {\r\n\r\n\t\tdollyStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseDownPan( event ) {\r\n\r\n\t\tpanStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMoveRotate( event ) {\r\n\r\n\t\trotateEnd.set( event.clientX, event.clientY );\r\n\r\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\r\n\r\n\t\tvar element = scope.domElement;\r\n\r\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\r\n\r\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\r\n\r\n\t\trotateStart.copy( rotateEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMoveDolly( event ) {\r\n\r\n\t\tdollyEnd.set( event.clientX, event.clientY );\r\n\r\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\r\n\r\n\t\tif ( dollyDelta.y > 0 ) {\r\n\r\n\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t} else if ( dollyDelta.y < 0 ) {\r\n\r\n\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t}\r\n\r\n\t\tdollyStart.copy( dollyEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMovePan( event ) {\r\n\r\n\t\tpanEnd.set( event.clientX, event.clientY );\r\n\r\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\r\n\r\n\t\tpan( panDelta.x, panDelta.y );\r\n\r\n\t\tpanStart.copy( panEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseUp( /*event*/ ) {\r\n\r\n\t\t// no-op\r\n\r\n\t}\r\n\r\n\tfunction handleMouseWheel( event ) {\r\n\r\n\t\tif ( event.deltaY < 0 ) {\r\n\r\n\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t} else if ( event.deltaY > 0 ) {\r\n\r\n\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t}\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleKeyDown( event ) {\r\n\r\n\t\tvar needsUpdate = false;\r\n\r\n\t\tswitch ( event.keyCode ) {\r\n\r\n\t\t\tcase scope.keys.UP:\r\n\t\t\t\tpan( 0, scope.keyPanSpeed );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.BOTTOM:\r\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.LEFT:\r\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.RIGHT:\r\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tif ( needsUpdate ) {\r\n\r\n\t\t\t// prevent the browser from scrolling on cursor keys\r\n\t\t\tevent.preventDefault();\r\n\r\n\t\t\tscope.update();\r\n\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartRotate( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\trotateStart.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartPan( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\tpanStart.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartDolly( event ) {\r\n\r\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\r\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\tdollyStart.set( 0, distance );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartDollyPan( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\r\n\r\n\t\tif ( scope.enablePan ) handleTouchStartPan( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartDollyRotate( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\r\n\r\n\t\tif ( scope.enableRotate ) handleTouchStartRotate( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveRotate( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\trotateEnd.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\r\n\r\n\t\tvar element = scope.domElement;\r\n\r\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\r\n\r\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\r\n\r\n\t\trotateStart.copy( rotateEnd );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMovePan( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\tpanEnd.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\r\n\r\n\t\tpan( panDelta.x, panDelta.y );\r\n\r\n\t\tpanStart.copy( panEnd );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveDolly( event ) {\r\n\r\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\r\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\tdollyEnd.set( 0, distance );\r\n\r\n\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\r\n\r\n\t\tdollyOut( dollyDelta.y );\r\n\r\n\t\tdollyStart.copy( dollyEnd );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveDollyPan( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\r\n\r\n\t\tif ( scope.enablePan ) handleTouchMovePan( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveDollyRotate( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\r\n\r\n\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchEnd( /*event*/ ) {\r\n\r\n\t\t// no-op\r\n\r\n\t}\r\n\r\n\t//\r\n\t// event handlers - FSM: listen for events and reset state\r\n\t//\r\n\r\n\tfunction onMouseDown( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\t// Prevent the browser from scrolling.\r\n\t\tevent.preventDefault();\r\n\r\n\t\t// Manually set the focus since calling preventDefault above\r\n\t\t// prevents the browser from setting it automatically.\r\n\r\n\t\tscope.domElement.focus ? scope.domElement.focus() : window.focus();\r\n\r\n\t\tvar mouseAction;\r\n\r\n\t\tswitch ( event.button ) {\r\n\r\n\t\t\tcase 0:\r\n\r\n\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 1:\r\n\r\n\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2:\r\n\r\n\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tmouseAction = - 1;\r\n\r\n\t\t}\r\n\r\n\t\tswitch ( mouseAction ) {\r\n\r\n\t\t\tcase THREE.MOUSE.DOLLY:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\thandleMouseDownDolly( event );\r\n\r\n\t\t\t\tstate = STATE.DOLLY;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase THREE.MOUSE.ROTATE:\r\n\r\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\r\n\r\n\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownPan( event );\r\n\r\n\t\t\t\t\tstate = STATE.PAN;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownRotate( event );\r\n\r\n\t\t\t\t\tstate = STATE.ROTATE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase THREE.MOUSE.PAN:\r\n\r\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\r\n\r\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownRotate( event );\r\n\r\n\t\t\t\t\tstate = STATE.ROTATE;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownPan( event );\r\n\r\n\t\t\t\t\tstate = STATE.PAN;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t\tif ( state !== STATE.NONE ) {\r\n\r\n\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\r\n\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\r\n\r\n\t\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\tswitch ( state ) {\r\n\r\n\t\t\tcase STATE.ROTATE:\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleMouseMoveRotate( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.DOLLY:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\thandleMouseMoveDolly( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.PAN:\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleMouseMovePan( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseUp( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\thandleMouseUp( event );\r\n\r\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\r\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t}\r\n\r\n\tfunction onMouseWheel( event ) {\r\n\r\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\thandleMouseWheel( event );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction onKeyDown( event ) {\r\n\r\n\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\r\n\r\n\t\thandleKeyDown( event );\r\n\r\n\t}\r\n\r\n\tfunction onTouchStart( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault(); // prevent scrolling\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 1:\r\n\r\n\t\t\t\tswitch ( scope.touches.ONE ) {\r\n\r\n\t\t\t\t\tcase THREE.TOUCH.ROTATE:\r\n\r\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartRotate( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase THREE.TOUCH.PAN:\r\n\r\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartPan( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2:\r\n\r\n\t\t\t\tswitch ( scope.touches.TWO ) {\r\n\r\n\t\t\t\t\tcase THREE.TOUCH.DOLLY_PAN:\r\n\r\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartDollyPan( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase THREE.TOUCH.DOLLY_ROTATE:\r\n\r\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartDollyRotate( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t\tif ( state !== STATE.NONE ) {\r\n\r\n\t\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onTouchMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault(); // prevent scrolling\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tswitch ( state ) {\r\n\r\n\t\t\tcase STATE.TOUCH_ROTATE:\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleTouchMoveRotate( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.TOUCH_PAN:\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleTouchMovePan( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.TOUCH_DOLLY_PAN:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleTouchMoveDollyPan( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleTouchMoveDollyRotate( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onTouchEnd( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\thandleTouchEnd( event );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t}\r\n\r\n\tfunction onContextMenu( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\r\n\r\n\tscope.domElement.addEventListener( 'mousedown', onMouseDown, false );\r\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel, false );\r\n\r\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart, false );\r\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd, false );\r\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove, false );\r\n\r\n\tscope.domElement.addEventListener( 'keydown', onKeyDown, false );\r\n\r\n\t// make sure element can receive keys.\r\n\r\n\tif ( scope.domElement.tabIndex === - 1 ) {\r\n\r\n\t\tscope.domElement.tabIndex = 0;\r\n\r\n\t}\r\n\r\n\t// force an update at start\r\n\r\n\tthis.update();\r\n\r\n};\r\n\r\nTHREE.OrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\r\nTHREE.OrbitControls.prototype.constructor = THREE.OrbitControls;\r\n\r\n\r\n// This set of controls performs orbiting, dollying (zooming), and panning.\r\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\r\n// This is very similar to OrbitControls, another set of touch behavior\r\n//\r\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\r\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\r\n//    Pan - left mouse, or arrow keys / touch: one-finger move\r\n\r\nTHREE.MapControls = function ( object, domElement ) {\r\n\r\n\tTHREE.OrbitControls.call( this, object, domElement );\r\n\r\n\tthis.mouseButtons.LEFT = THREE.MOUSE.PAN;\r\n\tthis.mouseButtons.RIGHT = THREE.MOUSE.ROTATE;\r\n\r\n\tthis.touches.ONE = THREE.TOUCH.PAN;\r\n\tthis.touches.TWO = THREE.TOUCH.DOLLY_ROTATE;\r\n\r\n};\r\n\r\nTHREE.MapControls.prototype = Object.create( THREE.EventDispatcher.prototype );\r\nTHREE.MapControls.prototype.constructor = THREE.MapControls;\r\n",["176","177"],{"ruleId":"178","severity":1,"message":"179","line":10,"column":10,"nodeType":"180","messageId":"181","endLine":10,"endColumn":17},{"ruleId":"178","severity":1,"message":"182","line":14,"column":47,"nodeType":"180","messageId":"181","endLine":14,"endColumn":55},{"ruleId":"178","severity":1,"message":"183","line":14,"column":57,"nodeType":"180","messageId":"181","endLine":14,"endColumn":65},{"ruleId":"178","severity":1,"message":"184","line":14,"column":67,"nodeType":"180","messageId":"181","endLine":14,"endColumn":74},{"ruleId":"178","severity":1,"message":"185","line":14,"column":82,"nodeType":"180","messageId":"181","endLine":14,"endColumn":87},{"ruleId":"178","severity":1,"message":"186","line":14,"column":89,"nodeType":"180","messageId":"181","endLine":14,"endColumn":101},{"ruleId":"178","severity":1,"message":"187","line":15,"column":1,"nodeType":"180","messageId":"181","endLine":15,"endColumn":14},{"ruleId":"178","severity":1,"message":"188","line":15,"column":16,"nodeType":"180","messageId":"181","endLine":15,"endColumn":21},{"ruleId":"178","severity":1,"message":"189","line":15,"column":23,"nodeType":"180","messageId":"181","endLine":15,"endColumn":38},{"ruleId":"178","severity":1,"message":"190","line":15,"column":40,"nodeType":"180","messageId":"181","endLine":15,"endColumn":54},{"ruleId":"178","severity":1,"message":"191","line":15,"column":64,"nodeType":"180","messageId":"181","endLine":15,"endColumn":80},{"ruleId":"178","severity":1,"message":"192","line":15,"column":82,"nodeType":"180","messageId":"181","endLine":15,"endColumn":96},{"ruleId":"193","severity":1,"message":"194","line":16,"column":38,"nodeType":"180","messageId":"195","endLine":16,"endColumn":42},{"ruleId":"178","severity":1,"message":"196","line":16,"column":50,"nodeType":"180","messageId":"181","endLine":16,"endColumn":55},{"ruleId":"178","severity":1,"message":"197","line":16,"column":57,"nodeType":"180","messageId":"181","endLine":16,"endColumn":61},{"ruleId":"178","severity":1,"message":"198","line":16,"column":63,"nodeType":"180","messageId":"181","endLine":16,"endColumn":75},{"ruleId":"178","severity":1,"message":"199","line":17,"column":23,"nodeType":"180","messageId":"181","endLine":17,"endColumn":30},{"ruleId":"193","severity":1,"message":"200","line":21,"column":5,"nodeType":"180","messageId":"195","endLine":21,"endColumn":13},{"ruleId":"178","severity":1,"message":"201","line":23,"column":1,"nodeType":"180","messageId":"181","endLine":23,"endColumn":11},{"ruleId":"178","severity":1,"message":"202","line":25,"column":5,"nodeType":"180","messageId":"181","endLine":25,"endColumn":8},{"ruleId":"178","severity":1,"message":"203","line":27,"column":5,"nodeType":"180","messageId":"181","endLine":27,"endColumn":14},{"ruleId":"178","severity":1,"message":"204","line":37,"column":1,"nodeType":"180","messageId":"181","endLine":37,"endColumn":7},{"ruleId":"205","severity":2,"message":"206","line":39,"column":1,"nodeType":"180","messageId":"207","endLine":39,"endColumn":8},{"ruleId":"208","severity":1,"message":"209","line":39,"column":11,"nodeType":"210","messageId":"211","endLine":39,"endColumn":28,"fix":"212"},{"ruleId":"205","severity":2,"message":"206","line":40,"column":13,"nodeType":"180","messageId":"207","endLine":40,"endColumn":20},{"ruleId":"205","severity":2,"message":"213","line":54,"column":1,"nodeType":"180","messageId":"207","endLine":54,"endColumn":9},{"ruleId":"205","severity":2,"message":"213","line":56,"column":1,"nodeType":"180","messageId":"207","endLine":56,"endColumn":9},{"ruleId":"208","severity":1,"message":"209","line":66,"column":9,"nodeType":"210","messageId":"211","endLine":66,"endColumn":26,"fix":"214"},{"ruleId":"205","severity":2,"message":"206","line":73,"column":13,"nodeType":"180","messageId":"207","endLine":73,"endColumn":20},{"ruleId":"208","severity":1,"message":"209","line":73,"column":23,"nodeType":"210","messageId":"211","endLine":73,"endColumn":40,"fix":"215"},{"ruleId":"205","severity":2,"message":"206","line":74,"column":13,"nodeType":"180","messageId":"207","endLine":74,"endColumn":20},{"ruleId":"205","severity":2,"message":"216","line":75,"column":13,"nodeType":"180","messageId":"207","endLine":75,"endColumn":19},{"ruleId":"205","severity":2,"message":"206","line":75,"column":41,"nodeType":"180","messageId":"207","endLine":75,"endColumn":48},{"ruleId":"178","severity":1,"message":"217","line":82,"column":5,"nodeType":"180","messageId":"181","endLine":82,"endColumn":20},{"ruleId":"205","severity":2,"message":"218","line":105,"column":1,"nodeType":"180","messageId":"207","endLine":105,"endColumn":16},{"ruleId":"205","severity":2,"message":"219","line":111,"column":1,"nodeType":"180","messageId":"207","endLine":111,"endColumn":16},{"ruleId":"205","severity":2,"message":"220","line":117,"column":1,"nodeType":"180","messageId":"207","endLine":117,"endColumn":15},{"ruleId":"178","severity":1,"message":"221","line":123,"column":1,"nodeType":"180","messageId":"181","endLine":123,"endColumn":14},{"ruleId":"205","severity":2,"message":"222","line":154,"column":1,"nodeType":"180","messageId":"207","endLine":154,"endColumn":7},{"ruleId":"205","severity":2,"message":"219","line":156,"column":9,"nodeType":"180","messageId":"207","endLine":156,"endColumn":24},{"ruleId":"205","severity":2,"message":"223","line":159,"column":10,"nodeType":"180","messageId":"207","endLine":159,"endColumn":17},{"ruleId":"205","severity":2,"message":"222","line":164,"column":13,"nodeType":"180","messageId":"207","endLine":164,"endColumn":19},{"ruleId":"205","severity":2,"message":"223","line":164,"column":24,"nodeType":"180","messageId":"207","endLine":164,"endColumn":31},{"ruleId":"205","severity":2,"message":"223","line":165,"column":13,"nodeType":"180","messageId":"207","endLine":165,"endColumn":20},{"ruleId":"205","severity":2,"message":"224","line":167,"column":1,"nodeType":"180","messageId":"207","endLine":167,"endColumn":7},{"ruleId":"205","severity":2,"message":"219","line":169,"column":10,"nodeType":"180","messageId":"207","endLine":169,"endColumn":25},{"ruleId":"205","severity":2,"message":"225","line":172,"column":10,"nodeType":"180","messageId":"207","endLine":172,"endColumn":17},{"ruleId":"205","severity":2,"message":"224","line":177,"column":13,"nodeType":"180","messageId":"207","endLine":177,"endColumn":19},{"ruleId":"205","severity":2,"message":"225","line":177,"column":24,"nodeType":"180","messageId":"207","endLine":177,"endColumn":31},{"ruleId":"205","severity":2,"message":"225","line":178,"column":13,"nodeType":"180","messageId":"207","endLine":178,"endColumn":20},{"ruleId":"205","severity":2,"message":"216","line":181,"column":1,"nodeType":"180","messageId":"207","endLine":181,"endColumn":7},{"ruleId":"205","severity":2,"message":"219","line":187,"column":12,"nodeType":"180","messageId":"207","endLine":187,"endColumn":27},{"ruleId":"205","severity":2,"message":"219","line":193,"column":12,"nodeType":"180","messageId":"207","endLine":193,"endColumn":27},{"ruleId":"205","severity":2,"message":"220","line":199,"column":9,"nodeType":"180","messageId":"207","endLine":199,"endColumn":23},{"ruleId":"205","severity":2,"message":"220","line":205,"column":5,"nodeType":"180","messageId":"207","endLine":205,"endColumn":19},{"ruleId":"205","severity":2,"message":"220","line":211,"column":5,"nodeType":"180","messageId":"207","endLine":211,"endColumn":19},{"ruleId":"205","severity":2,"message":"218","line":223,"column":5,"nodeType":"180","messageId":"207","endLine":223,"endColumn":20},{"ruleId":"205","severity":2,"message":"226","line":234,"column":1,"nodeType":"180","messageId":"207","endLine":234,"endColumn":6},{"ruleId":"205","severity":2,"message":"218","line":236,"column":5,"nodeType":"180","messageId":"207","endLine":236,"endColumn":20},{"ruleId":"205","severity":2,"message":"218","line":243,"column":5,"nodeType":"180","messageId":"207","endLine":243,"endColumn":20},{"ruleId":"205","severity":2,"message":"218","line":250,"column":5,"nodeType":"180","messageId":"207","endLine":250,"endColumn":20},{"ruleId":"205","severity":2,"message":"226","line":256,"column":1,"nodeType":"180","messageId":"207","endLine":256,"endColumn":6},{"ruleId":"205","severity":2,"message":"224","line":258,"column":1,"nodeType":"180","messageId":"207","endLine":258,"endColumn":7},{"ruleId":"205","severity":2,"message":"222","line":259,"column":1,"nodeType":"180","messageId":"207","endLine":259,"endColumn":7},{"ruleId":"205","severity":2,"message":"222","line":260,"column":11,"nodeType":"180","messageId":"207","endLine":260,"endColumn":17},{"ruleId":"205","severity":2,"message":"224","line":261,"column":11,"nodeType":"180","messageId":"207","endLine":261,"endColumn":17},{"ruleId":"205","severity":2,"message":"226","line":264,"column":11,"nodeType":"180","messageId":"207","endLine":264,"endColumn":16},{"ruleId":"205","severity":2,"message":"216","line":273,"column":1,"nodeType":"180","messageId":"207","endLine":273,"endColumn":7},{"ruleId":"205","severity":2,"message":"227","line":314,"column":23,"nodeType":"180","messageId":"207","endLine":314,"endColumn":29},{"ruleId":"205","severity":2,"message":"224","line":316,"column":28,"nodeType":"180","messageId":"207","endLine":316,"endColumn":34},{"ruleId":"205","severity":2,"message":"222","line":321,"column":28,"nodeType":"180","messageId":"207","endLine":321,"endColumn":34},{"ruleId":"205","severity":2,"message":"228","line":326,"column":18,"nodeType":"180","messageId":"207","endLine":326,"endColumn":29},{"ruleId":"178","severity":1,"message":"229","line":340,"column":10,"nodeType":"180","messageId":"181","endLine":340,"endColumn":20},{"ruleId":"205","severity":2,"message":"230","line":341,"column":54,"nodeType":"180","messageId":"207","endLine":341,"endColumn":58},{"ruleId":"205","severity":2,"message":"230","line":342,"column":52,"nodeType":"180","messageId":"207","endLine":342,"endColumn":56},{"ruleId":"178","severity":1,"message":"231","line":347,"column":9,"nodeType":"180","messageId":"181","endLine":347,"endColumn":10},{"ruleId":"205","severity":2,"message":"232","line":349,"column":9,"nodeType":"180","messageId":"207","endLine":349,"endColumn":18},{"ruleId":"205","severity":2,"message":"219","line":351,"column":13,"nodeType":"180","messageId":"207","endLine":351,"endColumn":28},{"ruleId":"205","severity":2,"message":"232","line":356,"column":13,"nodeType":"180","messageId":"207","endLine":356,"endColumn":22},{"ruleId":"205","severity":2,"message":"232","line":357,"column":13,"nodeType":"180","messageId":"207","endLine":357,"endColumn":22},{"ruleId":"205","severity":2,"message":"232","line":358,"column":13,"nodeType":"180","messageId":"207","endLine":358,"endColumn":22},{"ruleId":"205","severity":2,"message":"232","line":359,"column":13,"nodeType":"180","messageId":"207","endLine":359,"endColumn":22},{"ruleId":"205","severity":2,"message":"232","line":360,"column":13,"nodeType":"180","messageId":"207","endLine":360,"endColumn":22},{"ruleId":"205","severity":2,"message":"232","line":361,"column":23,"nodeType":"180","messageId":"207","endLine":361,"endColumn":32},{"ruleId":"205","severity":2,"message":"230","line":368,"column":55,"nodeType":"180","messageId":"207","endLine":368,"endColumn":59},{"ruleId":"205","severity":2,"message":"230","line":369,"column":54,"nodeType":"180","messageId":"207","endLine":369,"endColumn":58},{"ruleId":"205","severity":2,"message":"230","line":373,"column":55,"nodeType":"180","messageId":"207","endLine":373,"endColumn":59},{"ruleId":"205","severity":2,"message":"230","line":374,"column":56,"nodeType":"180","messageId":"207","endLine":374,"endColumn":60},{"ruleId":"205","severity":2,"message":"222","line":387,"column":5,"nodeType":"180","messageId":"207","endLine":387,"endColumn":11},{"ruleId":"205","severity":2,"message":"224","line":388,"column":5,"nodeType":"180","messageId":"207","endLine":388,"endColumn":11},{"ruleId":"178","severity":1,"message":"233","line":391,"column":10,"nodeType":"180","messageId":"181","endLine":391,"endColumn":21},{"ruleId":"178","severity":1,"message":"234","line":397,"column":10,"nodeType":"180","messageId":"181","endLine":397,"endColumn":17},{"ruleId":"178","severity":1,"message":"235","line":401,"column":10,"nodeType":"180","messageId":"181","endLine":401,"endColumn":15},{"ruleId":"178","severity":1,"message":"236","line":405,"column":10,"nodeType":"180","messageId":"181","endLine":405,"endColumn":17},{"ruleId":"178","severity":1,"message":"237","line":409,"column":10,"nodeType":"180","messageId":"181","endLine":409,"endColumn":18},{"ruleId":"238","severity":1,"message":"239","line":421,"column":46,"nodeType":"240","messageId":"241","endLine":421,"endColumn":48},{"ruleId":"205","severity":2,"message":"242","line":429,"column":5,"nodeType":"180","messageId":"207","endLine":429,"endColumn":15},{"ruleId":"205","severity":2,"message":"242","line":430,"column":5,"nodeType":"180","messageId":"207","endLine":430,"endColumn":15},{"ruleId":"205","severity":2,"message":"242","line":434,"column":5,"nodeType":"180","messageId":"207","endLine":434,"endColumn":15},{"ruleId":"205","severity":2,"message":"242","line":435,"column":5,"nodeType":"180","messageId":"207","endLine":435,"endColumn":15},{"ruleId":"178","severity":1,"message":"243","line":438,"column":10,"nodeType":"180","messageId":"181","endLine":438,"endColumn":18},{"ruleId":"238","severity":1,"message":"244","line":452,"column":43,"nodeType":"240","messageId":"241","endLine":452,"endColumn":45},{"ruleId":"238","severity":1,"message":"239","line":470,"column":24,"nodeType":"240","messageId":"241","endLine":470,"endColumn":26},{"ruleId":"238","severity":1,"message":"239","line":472,"column":34,"nodeType":"240","messageId":"241","endLine":472,"endColumn":36},{"ruleId":"205","severity":2,"message":"220","line":506,"column":9,"nodeType":"180","messageId":"207","endLine":506,"endColumn":23},{"ruleId":"205","severity":2,"message":"220","line":546,"column":9,"nodeType":"180","messageId":"207","endLine":546,"endColumn":23},{"ruleId":"238","severity":1,"message":"239","line":584,"column":16,"nodeType":"240","messageId":"241","endLine":584,"endColumn":18},{"ruleId":"238","severity":1,"message":"244","line":588,"column":21,"nodeType":"240","messageId":"241","endLine":588,"endColumn":23},{"ruleId":"205","severity":2,"message":"206","line":589,"column":42,"nodeType":"180","messageId":"207","endLine":589,"endColumn":49},{"ruleId":"205","severity":2,"message":"245","line":18,"column":1,"nodeType":"180","messageId":"207","endLine":18,"endColumn":6},{"ruleId":"205","severity":2,"message":"245","line":30,"column":20,"nodeType":"180","messageId":"207","endLine":30,"endColumn":25},{"ruleId":"205","severity":2,"message":"245","line":82,"column":30,"nodeType":"180","messageId":"207","endLine":82,"endColumn":35},{"ruleId":"205","severity":2,"message":"245","line":82,"column":58,"nodeType":"180","messageId":"207","endLine":82,"endColumn":63},{"ruleId":"205","severity":2,"message":"245","line":82,"column":84,"nodeType":"180","messageId":"207","endLine":82,"endColumn":89},{"ruleId":"205","severity":2,"message":"245","line":85,"column":24,"nodeType":"180","messageId":"207","endLine":85,"endColumn":29},{"ruleId":"205","severity":2,"message":"245","line":85,"column":49,"nodeType":"180","messageId":"207","endLine":85,"endColumn":54},{"ruleId":"205","severity":2,"message":"245","line":134,"column":20,"nodeType":"180","messageId":"207","endLine":134,"endColumn":25},{"ruleId":"205","severity":2,"message":"245","line":137,"column":18,"nodeType":"180","messageId":"207","endLine":137,"endColumn":23},{"ruleId":"205","severity":2,"message":"245","line":137,"column":72,"nodeType":"180","messageId":"207","endLine":137,"endColumn":77},{"ruleId":"205","severity":2,"message":"245","line":140,"column":26,"nodeType":"180","messageId":"207","endLine":140,"endColumn":31},{"ruleId":"205","severity":2,"message":"245","line":141,"column":28,"nodeType":"180","messageId":"207","endLine":141,"endColumn":33},{"ruleId":"205","severity":2,"message":"245","line":294,"column":22,"nodeType":"180","messageId":"207","endLine":294,"endColumn":27},{"ruleId":"205","severity":2,"message":"245","line":295,"column":27,"nodeType":"180","messageId":"207","endLine":295,"endColumn":32},{"ruleId":"205","severity":2,"message":"245","line":298,"column":22,"nodeType":"180","messageId":"207","endLine":298,"endColumn":27},{"ruleId":"205","severity":2,"message":"245","line":301,"column":24,"nodeType":"180","messageId":"207","endLine":301,"endColumn":29},{"ruleId":"205","severity":2,"message":"245","line":302,"column":22,"nodeType":"180","messageId":"207","endLine":302,"endColumn":27},{"ruleId":"205","severity":2,"message":"245","line":303,"column":24,"nodeType":"180","messageId":"207","endLine":303,"endColumn":29},{"ruleId":"205","severity":2,"message":"245","line":305,"column":21,"nodeType":"180","messageId":"207","endLine":305,"endColumn":26},{"ruleId":"205","severity":2,"message":"245","line":306,"column":19,"nodeType":"180","messageId":"207","endLine":306,"endColumn":24},{"ruleId":"205","severity":2,"message":"245","line":307,"column":21,"nodeType":"180","messageId":"207","endLine":307,"endColumn":26},{"ruleId":"205","severity":2,"message":"245","line":309,"column":23,"nodeType":"180","messageId":"207","endLine":309,"endColumn":28},{"ruleId":"205","severity":2,"message":"245","line":310,"column":21,"nodeType":"180","messageId":"207","endLine":310,"endColumn":26},{"ruleId":"205","severity":2,"message":"245","line":311,"column":23,"nodeType":"180","messageId":"207","endLine":311,"endColumn":28},{"ruleId":"205","severity":2,"message":"245","line":339,"column":15,"nodeType":"180","messageId":"207","endLine":339,"endColumn":20},{"ruleId":"205","severity":2,"message":"245","line":354,"column":15,"nodeType":"180","messageId":"207","endLine":354,"endColumn":20},{"ruleId":"205","severity":2,"message":"245","line":380,"column":20,"nodeType":"180","messageId":"207","endLine":380,"endColumn":25},{"ruleId":"246","severity":1,"message":"247","line":562,"column":3,"nodeType":"248","messageId":"249","endLine":584,"endColumn":4},{"ruleId":"238","severity":1,"message":"239","line":600,"column":29,"nodeType":"240","messageId":"241","endLine":600,"endColumn":31},{"ruleId":"238","severity":1,"message":"239","line":617,"column":29,"nodeType":"240","messageId":"241","endLine":617,"endColumn":31},{"ruleId":"238","severity":1,"message":"239","line":661,"column":29,"nodeType":"240","messageId":"241","endLine":661,"endColumn":31},{"ruleId":"238","severity":1,"message":"239","line":688,"column":29,"nodeType":"240","messageId":"241","endLine":688,"endColumn":31},{"ruleId":"205","severity":2,"message":"245","line":791,"column":9,"nodeType":"180","messageId":"207","endLine":791,"endColumn":14},{"ruleId":"205","severity":2,"message":"245","line":801,"column":9,"nodeType":"180","messageId":"207","endLine":801,"endColumn":14},{"ruleId":"205","severity":2,"message":"245","line":823,"column":9,"nodeType":"180","messageId":"207","endLine":823,"endColumn":14},{"ruleId":"246","severity":1,"message":"247","line":868,"column":3,"nodeType":"248","messageId":"249","endLine":894,"endColumn":4},{"ruleId":"205","severity":2,"message":"245","line":948,"column":11,"nodeType":"180","messageId":"207","endLine":948,"endColumn":16},{"ruleId":"205","severity":2,"message":"245","line":958,"column":11,"nodeType":"180","messageId":"207","endLine":958,"endColumn":16},{"ruleId":"205","severity":2,"message":"245","line":980,"column":11,"nodeType":"180","messageId":"207","endLine":980,"endColumn":16},{"ruleId":"205","severity":2,"message":"245","line":990,"column":11,"nodeType":"180","messageId":"207","endLine":990,"endColumn":16},{"ruleId":"205","severity":2,"message":"245","line":1126,"column":1,"nodeType":"180","messageId":"207","endLine":1126,"endColumn":6},{"ruleId":"205","severity":2,"message":"245","line":1126,"column":48,"nodeType":"180","messageId":"207","endLine":1126,"endColumn":53},{"ruleId":"205","severity":2,"message":"245","line":1127,"column":1,"nodeType":"180","messageId":"207","endLine":1127,"endColumn":6},{"ruleId":"205","severity":2,"message":"245","line":1127,"column":45,"nodeType":"180","messageId":"207","endLine":1127,"endColumn":50},{"ruleId":"205","severity":2,"message":"245","line":1138,"column":1,"nodeType":"180","messageId":"207","endLine":1138,"endColumn":6},{"ruleId":"205","severity":2,"message":"245","line":1140,"column":2,"nodeType":"180","messageId":"207","endLine":1140,"endColumn":7},{"ruleId":"205","severity":2,"message":"245","line":1142,"column":27,"nodeType":"180","messageId":"207","endLine":1142,"endColumn":32},{"ruleId":"205","severity":2,"message":"245","line":1143,"column":28,"nodeType":"180","messageId":"207","endLine":1143,"endColumn":33},{"ruleId":"205","severity":2,"message":"245","line":1145,"column":21,"nodeType":"180","messageId":"207","endLine":1145,"endColumn":26},{"ruleId":"205","severity":2,"message":"245","line":1146,"column":21,"nodeType":"180","messageId":"207","endLine":1146,"endColumn":26},{"ruleId":"205","severity":2,"message":"245","line":1150,"column":1,"nodeType":"180","messageId":"207","endLine":1150,"endColumn":6},{"ruleId":"205","severity":2,"message":"245","line":1150,"column":46,"nodeType":"180","messageId":"207","endLine":1150,"endColumn":51},{"ruleId":"205","severity":2,"message":"245","line":1151,"column":1,"nodeType":"180","messageId":"207","endLine":1151,"endColumn":6},{"ruleId":"205","severity":2,"message":"245","line":1151,"column":43,"nodeType":"180","messageId":"207","endLine":1151,"endColumn":48},{"ruleId":"250","replacedBy":"251"},{"ruleId":"252","replacedBy":"253"},"no-unused-vars","'fadeout' is defined but never used.","Identifier","unusedVar","'geometry' is defined but never used.","'material' is defined but never used.","'lacabra' is defined but never used.","'mpiso' is defined but never used.","'pisomaterial' is defined but never used.","'physics_stats' is defined but never used.","'table' is defined but never used.","'intersect_plane' is defined but never used.","'table_material' is defined but never used.","'setMousePosition' is defined but never used.","'mouse_position' is defined but never used.","no-redeclare","'piso' is already defined.","redeclared","'mtrap' is defined but never used.","'trap' is defined but never used.","'prectangular' is defined but never used.","'impulse' is defined but never used.","'keyboard' is already defined.","'scoreboard' is assigned a value but never used.","'tri' is defined but never used.","'raycaster' is assigned a value but never used.","'puntos' is assigned a value but never used.","no-undef","'impusle' is not defined.","undef","new-parens","Missing '()' invoking a constructor.","NewExpression","missing",{"range":"254","text":"255"},"'controls' is not defined.",{"range":"256","text":"255"},{"range":"257","text":"255"},"'sphere' is not defined.","'spotLightHelper' is assigned a value but never used.","'ground_material' is not defined.","'paleta_material' is not defined.","'pivot_material' is not defined.","'tet1_material' is assigned a value but never used.","'botonL' is not defined.","'botonLp' is not defined.","'botonR' is not defined.","'botonRp' is not defined.","'techo' is not defined.","'THREEx' is not defined.","'TimelineMax' is not defined.","'moverboton' is defined but never used.","'Expo' is not defined.","'j' is assigned a value but never used.","'otrorombo' is not defined.","'moverCamara' is defined but never used.","'keyDown' is defined but never used.","'keyUp' is defined but never used.","'keyLeft' is defined but never used.","'keyRight' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'scoreBoard' is not defined.","'addPoint' is defined but never used.","Expected '!==' and instead saw '!='.","'THREE' is not defined.","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","no-native-reassign",["258"],"no-negated-in-lhs",["259"],[1050,1050],"()",[1826,1826],[2036,2036],"no-global-assign","no-unsafe-negation"]