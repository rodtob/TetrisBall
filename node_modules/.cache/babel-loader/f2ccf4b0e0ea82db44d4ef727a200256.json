{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rod\\\\Desktop\\\\TetrisBall\\\\src\\\\index.js\";\nimport React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as THREE from \"three\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  componentDidMount() {\n    const titulocambia = document.getElementById('titulo');\n\n    function fadeout() {\n      titulocambia.classList.toggle('fade-out');\n    }\n\n    var camera,\n        keyboard,\n        renderer,\n        scene,\n        light,\n        geometry,\n        material,\n        lacabra,\n        piso,\n        mpiso,\n        pisomaterial,\n        physics_stats,\n        table,\n        intersect_plane,\n        table_material,\n        ground,\n        setMousePosition,\n        mouse_position,\n        box,\n        sphere_material,\n        borde_left,\n        borde_right,\n        box1,\n        box2,\n        piso,\n        cubo,\n        mtrap,\n        trap,\n        prectangular,\n        transparente,\n        materialClip,\n        cliprombo_material,\n        nuevapelota,\n        cristal,\n        impulse,\n        frames,\n        tet2_material,\n        rombo,\n        tet1_material,\n        pivot,\n        Lpivot,\n        pDerecha,\n        pIzq,\n        puntos,\n        latimeLine,\n        scoreboard,\n        score = {\n      player1: 0\n    };\n    var keyboard = {};\n    scoreboard = document.getElementById('scoreBoard');\n    var tri;\n    var raycaster = new THREE.Raycaster(); //BASE\n\n    function init() {\n      frames = 0;\n      puntos = 0;\n      impusle = new THREE.Vector3();\n      impusle.set(0, 0, 0);\n      camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);\n      renderer = new THREE.WebGLRenderer({\n        antialias: true\n      });\n      renderer.setClearColor(\"#000000\");\n      renderer.setSize(window.innerWidth, window.innerHeight);\n      renderer.shadowMap.enabled = true;\n      renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n      document.body.appendChild(renderer.domElement);\n      controls = new THREE.OrbitControls(camera, renderer.domElement);\n      controls.enableKeys = false;\n      window.addEventListener('resize', () => {\n        renderer.setSize(window.innerWidth, window.innerHeight);\n        camera.aspect = window.innerWidth / window.innerHeight;\n        camera.updateProjectionMatrix();\n      });\n      scene = new Physijs.Scene();\n      scene.setGravity(new THREE.Vector3(0, -3, 0));\n      scene.addEventListener('update', function () {\n        scene.simulate(undefined, 1);\n        impusle = new THREE.Vector3();\n        impusle.set(0, 0, 0);\n        sphere.applyCentralImpulse(impusle);\n      });\n      light = new THREE.SpotLight(0xffffff, 0.5);\n      light.intensity = 2;\n      var spotLightHelper = new THREE.SpotLightHelper(light);\n      scene.add(light);\n      light.position.set(0, 10, 20); //MATERIALES\n\n      materialClip = new THREE.MeshLambertMaterial({\n        color: 0x80ee10,\n        shininess: 10\n      });\n      cliprombo_material = new Physijs.createMaterial(materialClip, 6, // friction\n      0.2 // restitution\n      );\n      ground_material = new Physijs.createMaterial(new THREE.MeshLambertMaterial({\n        color: 0x2348888\n      }), 6, // friction\n      0.2 // restitution\n      );\n      paleta_material = new Physijs.createMaterial(new THREE.MeshLambertMaterial({\n        color: 0xab76db\n      }), 6, // friction\n      3 // restitution\n      );\n      pivot_material = new Physijs.createMaterial(new THREE.MeshLambertMaterial({\n        color: 0xef46db\n      }), 6, // friction\n      0.2 //restitution\n      );\n      tet1_material = new Physijs.createMaterial(new THREE.MeshLambertMaterial({\n        color: 0xac5861\n      }), 6, // hfriction\n      0.2 // restitution\n      );\n      tet2_material = new Physijs.createMaterial(new THREE.MeshLambertMaterial({\n        color: 0x9265ba\n      }), 6, 0.2);\n      transparente = new THREE.MeshLambertMaterial({\n        color: 0xff0000,\n        transparent: true,\n        opacity: 0.3\n      });\n      sphere_material = new Physijs.createMaterial(new THREE.MeshLambertMaterial({\n        color: 0xab76db\n      }), 2, // slippery\n      7 // bounciness\n      ); //OBJETOS\n\n      rombo = new Physijs.BoxMesh(new THREE.BoxGeometry(2, 2, 0.5), cliprombo_material, 0);\n      botonL = new Physijs.BoxMesh(new THREE.BoxGeometry(2, 2, 0.5), paleta_material, 0);\n      botonLp = new Physijs.BoxMesh(new THREE.BoxGeometry(1, 1, 0.5), cliprombo_material, 0);\n      botonL.add(botonLp);\n      botonLp.position.z = 0.5;\n      botonR = new Physijs.BoxMesh(new THREE.BoxGeometry(2, 2, 0.5), paleta_material, 0);\n      botonRp = new Physijs.BoxMesh(new THREE.BoxGeometry(1, 1, 0.5), cliprombo_material, 0);\n      botonR.add(botonRp);\n      botonRp.position.z = 0.5;\n      sphere = new Physijs.SphereMesh(new THREE.SphereBufferGeometry(0.4, 0.4, 5), sphere_material, 0);\n      pIzq = new Physijs.BoxMesh(new THREE.BoxGeometry(2.5, 0.5, 1, 5, 5, 5), paleta_material, 1);\n      pDerecha = new Physijs.BoxMesh(new THREE.BoxGeometry(2.5, 0.5, 1, 5, 5, 5), paleta_material, 1);\n      cubo = new Physijs.BoxMesh(new THREE.BoxBufferGeometry(1, 1, 1), pivot_material, 0);\n      pivot = new Physijs.BoxMesh(new THREE.BoxBufferGeometry(0.5, 0.5, 1), pivot_material, 0);\n      Lpivot = new Physijs.BoxMesh(new THREE.BoxBufferGeometry(0.5, 0.5, 1), pivot_material, 0);\n      ;\n      piso = new Physijs.BoxMesh(new THREE.BoxBufferGeometry(14, 3, 1), tet2_material, 0);\n      box = new Physijs.BoxMesh(new THREE.BoxBufferGeometry(5, 0.2, 5), ground_material, 0);\n      cristal = new Physijs.BoxMesh(new THREE.BoxGeometry(14, 19, 0.2), transparente, 0);\n      techo = new Physijs.BoxMesh(new THREE.BoxBufferGeometry(14, 1, 1), ground_material, 0);\n      borde_left = new Physijs.BoxMesh(new THREE.BoxBufferGeometry(0.3, 20, 2), ground_material, 0);\n      borde_right = new Physijs.BoxMesh(new THREE.BoxBufferGeometry(0.3, 20, 2), ground_material, 0);\n      borde_right.position.set(7.2, 0, 1);\n      borde_left.position.set(-7.2, 0, 1);\n      techo.position.set(0, 9.5, 1);\n      botonR.position.set(8.2, -5.4, 1);\n      botonL.position.set(-8.2, -5.4, 1);\n      scene.add(botonL);\n      scene.add(botonR);\n      scene.add(borde_left);\n      scene.add(techo);\n      scene.add(borde_right);\n      cristal.position.z = 1;\n      rombo.rotation.z = 0.785398;\n      rombo.position.set(0, 4.5, 1);\n      box.position.set(0, 0, 0.5);\n      cristal.position.z = 1.5;\n      box.rotation.x = Math.PI / 2;\n      box.scale.set(3, 1, 4);\n      sphere.position.set(-3, 3, 1);\n      scene.add(box);\n      pivot.position.set(3.7, -4.5, 1);\n      pivot.rotation.z = 0.2;\n      Lpivot.scale.set(-1, 1, -1);\n      Lpivot.position.set(-3.7, -4.5, 1);\n      pIzq.position.set(1.6, 0, 0);\n      pDerecha.position.set(-1.6, 0, 0);\n      Lpivot.scale.set(1, -1, 1);\n      Lpivot.rotation.z = -0.2;\n      piso.position.set(0, -8.3, 1);\n      cubo.position.set(-6.5, -4, 1);\n      Lpivot.add(pIzq);\n      pivot.add(pDerecha);\n      scene.add(pivot);\n      scene.add(Lpivot);\n      scene.add(piso);\n      scene.add(rombo, cristal);\n      scene.add(cristal);\n      camera.position.z = 30;\n      scene.add(light, light.target, camera, ground); //LADOizq\n\n      crearRombos(4, 0.4, -6, 3.4, 0.35);\n      crearRombos(3, 0.4, -6, -2.8, 0.35);\n      crearRombos(1, 1, -5.3, -6, 2);\n      crearRombos(1, 0.7, -6, 0, 2); //LADOder\n\n      crearRombos(4, 0.4, 6, 3.4, 0.35);\n      crearRombos(3, 0.4, 6, -2.8, 0.35);\n      crearRombos(1, 1, 5.3, -6, 2);\n      crearRombos(1, 0.7, 6, 0, 2); //INTERACTIVIDAD\n      // const domEvents = new THREEx.DomEvents(camera, renderer.domElement);\n      // domEvents.addEventListener(botonR, 'click', event =>{\n      //     moverPderecha();\n      // })\n      // domEvents.addEventListener(botonL, \"click\", event =>{\n      //     moverPizquierda();\n      // })\n\n      latimeLine = new TimelineMax();\n      animate();\n    } //FUNCIONES\n\n\n    function moverboton(boton) {\n      latimeLine.to(boton.position, 0.5, {\n        z: 1.2,\n        ease: Expo.easeOut\n      });\n      latimeLine.to(boton.position, 0.5, {\n        z: 1,\n        ease: Expo.easeOut\n      });\n    }\n\n    ;\n\n    function crearRombos(cantidad, tamano, lugarx, lugary, espacioentre) {\n      var j = 0;\n\n      for (var i = 0; i < cantidad; i++) {\n        otrorombo = new Physijs.BoxMesh(new THREE.BoxGeometry(2, 2, 0.5), paleta_material, 0);\n        lugary += espacioentre;\n        otrorombo.position.y = i + lugary;\n        otrorombo.position.z = 1;\n        otrorombo.position.x = lugarx;\n        otrorombo.scale.set(tamano, tamano, tamano);\n        otrorombo.rotation.z = 0.785398;\n        scene.add(otrorombo);\n      }\n    }\n\n    function moverPderecha() {\n      latimeLine.to(pivot.rotation, 0.1, {\n        z: -1.4,\n        ease: Expo.easeOut\n      });\n      latimeLine.to(pivot.rotation, 1.1, {\n        z: 0.2,\n        ease: Expo.easeOut\n      });\n    }\n\n    function moverPizquierda() {\n      latimeLine.to(Lpivot.rotation, 0.1, {\n        z: 1.4,\n        ease: Expo.easeOut\n      });\n      latimeLine.to(Lpivot.rotation, 1.1, {\n        z: -0.2,\n        ease: Expo.easeOut\n      });\n    }\n\n    function moverPalancas() {\n      pDerecha.__dirtyRotation = true;\n      pivot.__dirtyRotation = true;\n      pIzq.__dirtyRotation = true;\n      Lpivot.__dirtyRotation = true;\n      pDerecha.__dirtyPosition = true;\n      pivot.__dirtyPosition = true;\n      pIzq.__dirtyPosition = true;\n      Lpivot.__dirtyPosition = true;\n      botonL.__dirtyPosition = true;\n      botonR.__dirtyPosition = true;\n    }\n\n    ;\n\n    function moverCamara() {\n      camera.position.z = 24;\n      camera.position.y = 1;\n      camera.rotation.x = -0.0003;\n    }\n\n    ;\n\n    function keyDown(event) {\n      keyboard[event.keyCode] = true;\n    }\n\n    function keyUp(event) {\n      keyboard[event.keyCode] = false;\n    }\n\n    function keyLeft(event) {\n      keyboard[event.keyCode] = true;\n    }\n\n    function keyRight(event) {\n      keyboard[event.keyCode] = false;\n    }\n\n    function generarPelota() {\n      nuevapelota = new Physijs.SphereMesh(new THREE.SphereBufferGeometry(0.4, 20, 20), sphere_material, 3);\n      var num = Math.floor(Math.random() * 5) + 1;\n      num *= Math.floor(Math.random() * 1.5) == 1 ? 1 : -1;\n      nuevapelota.position.set(num, 6, 1);\n      return scene.add(nuevapelota);\n    }\n\n    function updateScoreBoard() {\n      scoreBoard.innerHTML = 'Score: ' + score.player1;\n      scoreBoard.style.position = 'absolute';\n    }\n\n    function mensajeGanaste() {\n      scoreBoard.innerHTML = 'Ganaste';\n      scoreBoard.style.fontsize = '20%';\n    }\n\n    function addPoint() {\n      score.player1 += 1;\n    }\n\n    function golpeColor(obj1, obj2, obj3, colore) {\n      box1 = new THREE.Box3().setFromObject(obj1);\n      box2 = new THREE.Box3().setFromObject(obj2);\n      box1.expandByScalar(1.2);\n      var intersects = box1.intersectsBox(box2);\n\n      if (intersects && obj3.material.color != colore) {\n        obj3.material.color.setHex(colore);\n      } else {\n        obj3.material.color.setHex(0x992073);\n      }\n    }\n\n    function inter(obj1, obj2) {\n      box1 = new THREE.Box3().setFromObject(obj1);\n      box2 = new THREE.Box3().setFromObject(obj2);\n      var intersects = box1.intersectsBox(box2);\n\n      if (intersects) {\n        score.player1 -= 1;\n        sacarynpelota();\n\n        if (frames % 2 == 0) {\n          btron(1, Math.random() * 2, -1, 0x8f34eb);\n        } else if (frames % 3 == 0) {\n          btrin(1, Math.random() * 2, -1, 0x992073);\n        } else {\n          barrita(1, Math.random() * 2, -1, 0xffec40);\n        }\n      }\n    }\n\n    function crearCubo(colore) {\n      var geo = new THREE.BoxGeometry(0.46, 0.46, 0.46);\n      var material = new Physijs.createMaterial(new THREE.MeshLambertMaterial({\n        color: colore\n      }), 6, // high friction\n      0.1 // low restitution\n      );\n      var ncubo = new Physijs.BoxMesh(geo, material, 1);\n      return ncubo;\n    }\n\n    function barrita(tamano, x, y, colore) {\n      var group = new Physijs.BoxMesh(new THREE.BoxBufferGeometry(0.1, 0.1, 0.1), pivot_material, 1);\n\n      for (var i = 0; i < 4; i++) {\n        var barrita = crearCubo(colore);\n        barrita.position.x = 0;\n        barrita.position.y = i / 2;\n        group.add(barrita);\n      }\n\n      group.scale.set(tamano, tamano, tamano);\n      group.position.set(x, y, 1);\n      group.rotation.z = 0;\n      scene.add(group);\n    }\n\n    function btrin(tamano, x, y, colore) {\n      var group = new Physijs.BoxMesh(new THREE.BoxBufferGeometry(0.1, 0.1, 0.1), tet2_material, 0.2);\n\n      for (var i = 0; i < 3; i++) {\n        var btrin = crearCubo(colore);\n        btrin.position.x = 0;\n        btrin.position.y = i / 2;\n        group.add(btrin);\n      }\n\n      var eldearriba = crearCubo(colore);\n      eldearriba.position.x = -0.5;\n      group.add(eldearriba);\n      group.scale.set(tamano, tamano, tamano);\n      group.position.set(x, y, 1);\n      scene.add(group);\n    }\n\n    function btron(tamano, x, y, colore) {\n      var group = new Physijs.BoxMesh(new THREE.BoxBufferGeometry(0.1, 0.1, 0.1), pivot_material, 1);\n\n      for (var i = 0; i < 3; i++) {\n        var btrin = crearCubo(colore);\n        btrin.position.x = 0;\n        btrin.position.y = i / 2;\n        group.add(btrin);\n      }\n\n      var eldearriba = crearCubo(colore);\n      eldearriba.position.x = -0.5;\n      eldearriba.position.y = 0.5;\n      group.add(eldearriba);\n      group.scale.set(tamano, tamano, tamano);\n      group.position.set(x, y, 1);\n      scene.add(group);\n    }\n\n    function sacarynpelota() {\n      scene.remove(nuevapelota);\n      generarPelota();\n    } //LOOP\n\n\n    function animate() {\n      scene.simulate();\n      scene.addEventListener('update', moverPalancas);\n\n      if (frames == 0) {\n        generarPelota();\n      }\n\n      if (nuevapelota != undefined) {\n        nuevapelota.applyCentralImpulse(impusle);\n      }\n\n      ;\n      golpeColor(rombo, nuevapelota, rombo, 0Xf7ed2d);\n      inter(piso, nuevapelota);\n      updateScoreBoard();\n\n      if (score.player1 > 400) {\n        mensajeGanaste();\n      }\n\n      scene.addEventListener(\"update\", function () {\n        scene.simulate(undefined, 2);\n      });\n      renderer.render(scene, camera);\n      frames += 1;\n      requestAnimationFrame(animate);\n    }\n\n    ;\n    window.onload = init; // === THREE.JS EXAMPLE CODE END ===\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 616,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render( /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 621,\n  columnNumber: 17\n}, this), rootElement);","map":{"version":3,"sources":["C:/Users/Rod/Desktop/TetrisBall/src/index.js"],"names":["React","Component","ReactDOM","THREE","App","componentDidMount","titulocambia","document","getElementById","fadeout","classList","toggle","camera","keyboard","renderer","scene","light","geometry","material","lacabra","piso","mpiso","pisomaterial","physics_stats","table","intersect_plane","table_material","ground","setMousePosition","mouse_position","box","sphere_material","borde_left","borde_right","box1","box2","cubo","mtrap","trap","prectangular","transparente","materialClip","cliprombo_material","nuevapelota","cristal","impulse","frames","tet2_material","rombo","tet1_material","pivot","Lpivot","pDerecha","pIzq","puntos","latimeLine","scoreboard","score","player1","tri","raycaster","Raycaster","init","impusle","Vector3","set","PerspectiveCamera","window","innerWidth","innerHeight","WebGLRenderer","antialias","setClearColor","setSize","shadowMap","enabled","type","PCFSoftShadowMap","body","appendChild","domElement","controls","OrbitControls","enableKeys","addEventListener","aspect","updateProjectionMatrix","Physijs","Scene","setGravity","simulate","undefined","sphere","applyCentralImpulse","SpotLight","intensity","spotLightHelper","SpotLightHelper","add","position","MeshLambertMaterial","color","shininess","createMaterial","ground_material","paleta_material","pivot_material","transparent","opacity","BoxMesh","BoxGeometry","botonL","botonLp","z","botonR","botonRp","SphereMesh","SphereBufferGeometry","BoxBufferGeometry","techo","rotation","x","Math","PI","scale","target","crearRombos","TimelineMax","animate","moverboton","boton","to","ease","Expo","easeOut","cantidad","tamano","lugarx","lugary","espacioentre","j","i","otrorombo","y","moverPderecha","moverPizquierda","moverPalancas","__dirtyRotation","__dirtyPosition","moverCamara","keyDown","event","keyCode","keyUp","keyLeft","keyRight","generarPelota","num","floor","random","updateScoreBoard","scoreBoard","innerHTML","style","mensajeGanaste","fontsize","addPoint","golpeColor","obj1","obj2","obj3","colore","Box3","setFromObject","expandByScalar","intersects","intersectsBox","setHex","inter","sacarynpelota","btron","btrin","barrita","crearCubo","geo","ncubo","group","eldearriba","remove","render","requestAnimationFrame","onload","rootElement"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as THREE from \"three\";\n\nclass App extends Component {\n  componentDidMount() {\n    const titulocambia = document.getElementById('titulo');\n\n    function fadeout(){\n        titulocambia.classList.toggle('fade-out');\n    }\n    \n    var camera, keyboard, renderer, scene, light, geometry, material, lacabra, piso, mpiso, pisomaterial,\n    physics_stats, table, intersect_plane, table_material, ground, setMousePosition, mouse_position, box, sphere_material,\n    borde_left, borde_right, box1, box2, piso, cubo, mtrap, trap, prectangular, transparente, materialClip, cliprombo_material,\n    nuevapelota, cristal, impulse, frames, tet2_material, rombo, tet1_material, pivot, Lpivot, pDerecha, pIzq, puntos, latimeLine,\n    scoreboard, score = {player1: 0};\n    \n    \n    var keyboard = {};\n    \n    scoreboard = document.getElementById('scoreBoard');\n    \n    var tri;\n    \n    var raycaster = new THREE.Raycaster();\n    \n    \n    \n    //BASE\n    \n    function init(){\n    \n    frames = 0;\n    \n    puntos = 0;\n    \n    impusle = new THREE.Vector3;\n                impusle.set( 0, 0, 0 );\n    \n    camera = new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,0.1,1000);\n    \n    \n    renderer = new THREE.WebGLRenderer({antialias: true});\n    \n              renderer.setClearColor(\"#000000\");\n              renderer.setSize(window.innerWidth, window.innerHeight);\n              renderer.shadowMap.enabled = true;\n              renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n    \n              document.body.appendChild(renderer.domElement);\n    \n    controls = new THREE.OrbitControls(camera, renderer.domElement);\n    \n    controls.enableKeys = false;\n    \n    window.addEventListener('resize', () => {\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    camera.aspect = window.innerWidth/window.innerHeight;\n    \n    camera.updateProjectionMatrix();\n    });\n    \n    \n    scene = new Physijs.Scene;\n      scene.setGravity(new THREE.Vector3( 0, -3, 0 ));\n        scene.addEventListener(\n          'update',\n                \n              function() {\n                scene.simulate( undefined, 1 );\n                impusle = new THREE.Vector3;\n                impusle.set( 0, 0, 0 );\n                sphere.applyCentralImpulse( impusle);\n                }\n        );\n    \n    light = new THREE.SpotLight(  0xffffff, 0.5 );\n    light.intensity = 2;\n    \n    var spotLightHelper = new THREE.SpotLightHelper( light );\n    scene.add( light);\n    \n    light.position.set(0,10,20);\n    \n    \n    \n    //MATERIALES\n    \n    \n    materialClip = new THREE.MeshLambertMaterial( {\n        color: 0x80ee10,\n        shininess: 10,\n    } );\n    \n    \n    cliprombo_material = new Physijs.createMaterial(\n        materialClip,\n        6, // friction\n        0.2 // restitution\n    );\n    \n    \n    ground_material = new Physijs.createMaterial(\n        new THREE.MeshLambertMaterial({ color:0x2348888 }),\n        6, // friction\n        0.2// restitution\n    );\n    \n    paleta_material = new Physijs.createMaterial(\n        new THREE.MeshLambertMaterial({ color:0xab76db }),\n        6, // friction\n        3// restitution\n    );\n    \n    pivot_material = new Physijs.createMaterial(\n        new THREE.MeshLambertMaterial({ color:0xef46db }),\n        6, // friction\n        0.2 //restitution\n    );\n    \n    tet1_material = new Physijs.createMaterial(\n        new THREE.MeshLambertMaterial({ color:0xac5861 }),\n        6, // hfriction\n        0.2// restitution\n    );\n    \n    tet2_material = new Physijs.createMaterial(\n        new THREE.MeshLambertMaterial({ color:0x9265ba }),\n        6, \n        0.2\n    );\n    \n    transparente = new THREE.MeshLambertMaterial({color: 0xff0000, transparent: true, opacity: 0.3});\n    \n    sphere_material = new Physijs.createMaterial(\n        new THREE.MeshLambertMaterial({ color:0xab76db }),\n        2, // slippery\n        7 // bounciness\n    );\n    \n    \n    \n    //OBJETOS\n    \n    \n    rombo = new Physijs.BoxMesh(\n            new THREE.BoxGeometry( 2, 2, 0.5 ),\n            cliprombo_material,\n            0\n            );\n    \n    botonL = new Physijs.BoxMesh(\n            new THREE.BoxGeometry( 2, 2, 0.5 ),\n            paleta_material ,\n             0\n             );\n             botonLp = new Physijs.BoxMesh(\n                new THREE.BoxGeometry( 1, 1, 0.5 ),\n                cliprombo_material ,\n                 0\n                 );\n                botonL.add(botonLp)  \n                botonLp.position.z = 0.5;\n    \n    botonR = new Physijs.BoxMesh(\n             new THREE.BoxGeometry( 2,2, 0.5 ),\n             paleta_material,\n             0\n             );  \n             botonRp = new Physijs.BoxMesh(\n                new THREE.BoxGeometry( 1, 1, 0.5 ),\n                cliprombo_material,\n                0\n                );        \n                botonR.add(botonRp)  \n                botonRp.position.z = 0.5;\n    \n    \n    sphere = new Physijs.SphereMesh( \n             new THREE.SphereBufferGeometry( 0.4, 0.4, 5 ),\n                sphere_material,0);\n    \n    pIzq = new Physijs.BoxMesh(\n               new THREE.BoxGeometry( 2.5, 0.5, 1,5,5,5 ),\n               paleta_material,\n               1\n               );\n    \n    pDerecha = new Physijs.BoxMesh(\n               new THREE.BoxGeometry( 2.5, 0.5, 1,5,5,5 ),\n               paleta_material,\n               1\n               );\n    \n    cubo = new Physijs.BoxMesh(\n            new THREE.BoxBufferGeometry( 1, 1, 1 ),\n            pivot_material,\n            0\n            );\n    \n    pivot = new Physijs.BoxMesh(\n        new THREE.BoxBufferGeometry( 0.5, 0.5, 1 ),\n        pivot_material,\n        0\n        );\n    \n    Lpivot = new Physijs.BoxMesh(\n        new THREE.BoxBufferGeometry( 0.5, 0.5, 1 ),\n        pivot_material,\n        0\n        );;\n    \n    piso = new Physijs.BoxMesh(\n         new THREE.BoxBufferGeometry( 14, 3, 1 ),\n         tet2_material,\n         0\n        );\n    \n    box = new Physijs.BoxMesh(\n        new THREE.BoxBufferGeometry( 5, 0.2, 5 ),\n        ground_material,\n        0\n    );\n    \n    cristal = new Physijs.BoxMesh(\n        new THREE.BoxGeometry( 14,19, 0.2 ),\n        transparente,\n        0\n    );\n    \n    \n    techo =  new Physijs.BoxMesh(\n        new THREE.BoxBufferGeometry( 14, 1, 1 ),\n        ground_material,\n        0\n    );\n    \n    \n    borde_left =  new Physijs.BoxMesh(\n        new THREE.BoxBufferGeometry( 0.3, 20, 2 ),\n        ground_material,\n        0\n    );\n    \n    \n    borde_right =  new Physijs.BoxMesh(\n        new THREE.BoxBufferGeometry( 0.3, 20, 2 ),\n        ground_material,\n        0\n    );\n    \n    borde_right.position.set(7.2,0,1);\n    borde_left.position.set(-7.2,0,1);\n    techo.position.set(0,9.5,1);\n    \n    botonR.position.set(8.2,-5.4,1);\n    botonL.position.set(-8.2,-5.4,1);\n    scene.add(botonL);\n    scene.add(botonR);\n    \n    scene.add(borde_left);\n    scene.add(techo);\n    scene.add(borde_right);\n    cristal.position.z = 1;\n    rombo.rotation.z = 0.785398;\n    rombo.position.set(0,4.5,1);\n    box.position.set(0,0,0.5);\n    cristal.position.z = 1.5;\n    box.rotation.x = Math.PI/2;\n    box.scale.set(3,1,4);\n    sphere.position.set(-3,3,1);\n    scene.add( box );\n    pivot.position.set(3.7,-4.5,1);\n    pivot.rotation.z = 0.2;\n    Lpivot.scale.set(-1,1,-1);\n    Lpivot.position.set(-3.7,-4.5,1);\n    pIzq.position.set(1.6,0,0);\n    pDerecha.position.set(-1.6,0,0);\n    Lpivot.scale.set(1,-1,1);\n    Lpivot.rotation.z = -0.2;\n    piso.position.set(0,-8.3,1)\n    \n    cubo.position.set(-6.5,-4,1);\n    Lpivot.add(pIzq);\n    pivot.add(pDerecha);\n    scene.add(pivot);\n    scene.add(Lpivot);\n    scene.add(piso);\n    scene.add(rombo,cristal);\n    scene.add(cristal);\n    \n    camera.position.z = 30;\n    scene.add(light, light.target,camera,ground);\n    \n    //LADOizq\n    crearRombos(4,0.4,-6,3.4, 0.35);\n    crearRombos(3,0.4,-6,-2.8, 0.35);\n    crearRombos(1,1,-5.3,-6,2);\n    crearRombos(1,0.7,-6,0,2);\n    \n    //LADOder\n    crearRombos(4,0.4,6,3.4, 0.35);\n    crearRombos(3,0.4,6,-2.8, 0.35);\n    crearRombos(1,1,5.3,-6,2);\n    crearRombos(1,0.7,6,0,2);\n    \n    \n    \n    //INTERACTIVIDAD\n    \n    \n    // const domEvents = new THREEx.DomEvents(camera, renderer.domElement);\n    \n    // domEvents.addEventListener(botonR, 'click', event =>{\n    //     moverPderecha();\n    // })\n    \n    \n    // domEvents.addEventListener(botonL, \"click\", event =>{\n    //     moverPizquierda();\n    // })\n    \n    \n    latimeLine = new TimelineMax();\n    \n    \n    \n    animate();\n    \n    \n    }\n    \n    \n    //FUNCIONES\n    \n    \n    \n    function moverboton(boton){\n        latimeLine.to(boton.position, 0.5, {z:1.2, ease: Expo.easeOut});\n        latimeLine.to(boton.position, 0.5, {z:1, ease: Expo.easeOut});\n    };\n    \n    \n    function crearRombos(cantidad, tamano, lugarx, lugary, espacioentre){\n        var j = 0;\n        for (var i = 0; i < cantidad; i++){\n            otrorombo = new Physijs.BoxMesh(\n                new THREE.BoxGeometry( 2, 2, 0.5 ),\n                paleta_material,\n                0\n                );\n        \n                lugary += espacioentre;\n                otrorombo.position.y = i + lugary;\n                otrorombo.position.z = 1;\n                otrorombo.position.x = lugarx;\n                otrorombo.scale.set(tamano,tamano, tamano);\n                otrorombo.rotation.z = 0.785398; \n                scene.add(otrorombo);\n        }\n    }\n    \n    \n    \n    function moverPderecha(){\n        latimeLine.to(pivot.rotation, 0.1, {z:-1.4, ease: Expo.easeOut});\n        latimeLine.to(pivot.rotation, 1.1, {z:0.2, ease: Expo.easeOut});\n    }\n    \n    function moverPizquierda(){\n        latimeLine.to(Lpivot.rotation, 0.1, {z:1.4, ease: Expo.easeOut});\n        latimeLine.to(Lpivot.rotation, 1.1, {z:-0.2, ease: Expo.easeOut});\n    }\n    \n    \n    function moverPalancas(){\n        pDerecha.__dirtyRotation = true;\n        pivot.__dirtyRotation = true;\n        pIzq.__dirtyRotation = true;\n        Lpivot.__dirtyRotation = true;\n        pDerecha.__dirtyPosition = true;\n        pivot.__dirtyPosition = true;\n        pIzq.__dirtyPosition = true;\n        Lpivot.__dirtyPosition = true;\n        botonL.__dirtyPosition = true;\n        botonR.__dirtyPosition = true;\n    };\n    \n    function moverCamara(){\n        camera.position.z = 24;\n        camera.position.y = 1;\n        camera.rotation.x = -0.0003;\n    };\n    \n    function keyDown(event){\n        keyboard[event.keyCode] = true;\n    }\n    \n    function keyUp(event){\n        keyboard[event.keyCode] = false;\n    }\n    \n    function keyLeft(event){\n        keyboard[event.keyCode] = true;\n    }\n    \n    function keyRight(event){\n        keyboard[event.keyCode] = false;\n    }\n    \n    \n    function generarPelota(){\n        nuevapelota = new Physijs.SphereMesh( \n               new THREE.SphereBufferGeometry( 0.4, 20, 20 ),\n               sphere_material, 3);\n            \n    \n        var num = Math.floor(Math.random()*5) + 1; \n            num *= Math.floor(Math.random()*1.5) == 1 ? 1 : -1;\n        nuevapelota.position.set(num,6, 1);\n    \n    \n        return scene.add(nuevapelota);\n    }\n    \n    function updateScoreBoard() {\n        scoreBoard.innerHTML = 'Score: ' + score.player1;\n        scoreBoard.style.position = 'absolute';\n    }\n    \n    function mensajeGanaste(){\n        scoreBoard.innerHTML = 'Ganaste';\n        scoreBoard.style.fontsize = '20%';\n    }\n    \n    function addPoint(){\n        score.player1 +=1;\n      }\n    \n      \n    function golpeColor(obj1,obj2,obj3, colore){\n    \n        box1 = new THREE.Box3().setFromObject(obj1);\n    \n        box2 = new THREE.Box3().setFromObject(obj2);\n    \n        box1.expandByScalar ( 1.2 );\n    \n        var intersects = box1.intersectsBox(box2);\n        if( intersects && obj3.material.color != colore){\n            obj3.material.color.setHex(colore);\n        } else {\n            obj3.material.color.setHex(0x992073);\n        }\n    }\n    \n    \n    function inter(obj1,obj2){\n        box1 = new THREE.Box3().setFromObject(obj1);\n    \n        box2 = new THREE.Box3().setFromObject(obj2);\n    \n        var intersects = box1.intersectsBox(box2);\n    \n        if( intersects ){\n            score.player1 -= 1;\n            sacarynpelota();\n            if (frames % 2 == 0){\n                btron(1,Math.random()*2,-1,0x8f34eb)\n                } else if( frames% 3 == 0) {\n                    btrin(1,Math.random()*2,-1,0x992073)\n                    } else {\n                        barrita(1,Math.random()*2,-1,0xffec40)\n                         }\n        }\n    \n    }\n    \n    function crearCubo(colore){\n    \n      var geo = new THREE.BoxGeometry( 0.46, 0.46, 0.46 )\n    \n      var material = new Physijs.createMaterial(\n        new THREE.MeshLambertMaterial({ color:colore }),\n        6, // high friction\n        0.1 // low restitution\n    );\n      \n      var ncubo = new Physijs.BoxMesh(\n            geo,\n            material,\n            1\n            );\n    \n        return ncubo;\n    \n    }\n    \n    \n    \n    function barrita(tamano, x, y, colore){\n        var group = new Physijs.BoxMesh(\n            new THREE.BoxBufferGeometry( 0.1, 0.1, 0.1 ),\n            pivot_material,\n            1);\n        for (var i = 0; i < 4; i++ ){\n            var barrita = crearCubo(colore);\n            barrita.position.x = 0;\n            barrita.position.y = i/2;\n            group.add(barrita);\n        }\n        group.scale.set(tamano,tamano,tamano);\n        group.position.set(x,y,1)\n        group.rotation.z = 0;\n    \n        scene.add(group);\n    }\n    \n    \n    function btrin(tamano,x,y,colore){\n        var group = new Physijs.BoxMesh(\n            new THREE.BoxBufferGeometry( 0.1, 0.1, 0.1 ),\n            tet2_material,\n            0.2);\n        for (var i = 0; i < 3; i++ ){\n            var btrin = crearCubo(colore);\n            btrin.position.x = 0;\n            btrin.position.y = i/2;\n    \n            group.add(btrin);\n    \n        }\n        var eldearriba = crearCubo(colore)\n        eldearriba.position.x = -0.5;\n        group.add(eldearriba);\n        group.scale.set(tamano,tamano,tamano);\n        group.position.set(x,y,1)\n        scene.add(group);\n    }\n    \n    function btron(tamano,x,y, colore){\n        var group = new Physijs.BoxMesh(\n            new THREE.BoxBufferGeometry( 0.1, 0.1, 0.1 ),\n            pivot_material,\n            1);\n        for (var i = 0; i < 3; i++ ){\n            var btrin = crearCubo(colore);\n            btrin.position.x = 0;\n            btrin.position.y = i/2;\n            group.add(btrin);\n        }\n    \n        var eldearriba = crearCubo(colore)\n        eldearriba.position.x = -0.5;\n        eldearriba.position.y = 0.5;\n        group.add(eldearriba);\n        group.scale.set(tamano,tamano,tamano);\n        group.position.set(x,y,1)\n    \n        scene.add(group);\n    }\n    \n    function sacarynpelota(){\n        scene.remove(nuevapelota);\n        generarPelota();\n    }\n    \n    \n    \n    \n    \n    //LOOP\n    \n    \n    function animate() {\n        scene.simulate();\n    \n        scene.addEventListener('update', moverPalancas);\n    \n        \n        \n        if (frames == 0){\n            generarPelota();\n        }\n        \n        if (nuevapelota != undefined){\n            nuevapelota.applyCentralImpulse( impusle);\n        };\n        golpeColor(rombo, nuevapelota, rombo, 0Xf7ed2d);\n        inter(piso, nuevapelota);\n      \n        updateScoreBoard();\n        if (score.player1 > 400){\n            mensajeGanaste();\n        }\n    \n        scene.addEventListener(\"update\", function(){\n            scene.simulate(undefined, 2);\n        });\n    \n        renderer.render(scene, camera);\n        frames += 1;\n        requestAnimationFrame(animate);\n    };\n    \n    \n    \n    \n     window.onload = init;\n    \n    // === THREE.JS EXAMPLE CODE END ===\n  }\n  render() {\n    return (\n      <div />\n    )\n  }\n}\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);"]},"metadata":{},"sourceType":"module"}