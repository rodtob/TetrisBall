{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rod\\\\Desktop\\\\TetrisBall\\\\src\\\\index.js\";\nimport React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as THREE from \"./Three\";\nimport * as Physijs from \"./physi\";\nimport * as OrbitControls from \"./OrbitControls\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  componentDidMount() {\n    // === THREE.JS CODE START ===\n    const titulocambia = document.getElementById('titulo');\n\n    function fadeout() {\n      titulocambia.classList.toggle('fade-out');\n    }\n\n    var camera,\n        keyboard,\n        renderer,\n        scene,\n        light,\n        geometry,\n        material,\n        lacabra,\n        piso,\n        mpiso,\n        pisomaterial,\n        physics_stats,\n        table,\n        intersect_plane,\n        table_material,\n        ground,\n        setMousePosition,\n        mouse_position,\n        box,\n        sphere_material,\n        borde_left,\n        borde_right,\n        box1,\n        box2,\n        piso,\n        cubo,\n        mtrap,\n        trap,\n        prectangular,\n        transparente,\n        materialClip,\n        cliprombo_material,\n        nuevapelota,\n        cristal,\n        impulse,\n        frames,\n        tet2_material,\n        rombo,\n        tet1_material,\n        pivot,\n        Lpivot,\n        pDerecha,\n        pIzq,\n        puntos,\n        latimeLine,\n        scoreboard,\n        score = {\n      player1: 0\n    };\n    var keyboard = {};\n    scoreboard = document.getElementById('scoreBoard');\n    var tri;\n    var raycaster = new THREE.Raycaster(); //BASE\n\n    function init() {\n      frames = 0;\n      puntos = 0;\n      impusle = new THREE.Vector3();\n      impusle.set(0, 0, 0);\n      camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);\n      renderer = new THREE.WebGLRenderer({\n        antialias: true\n      });\n      renderer.setClearColor(\"#000000\");\n      renderer.setSize(window.innerWidth, window.innerHeight);\n      renderer.shadowMap.enabled = true;\n      renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n      document.body.appendChild(renderer.domElement);\n      controls = new THREE.OrbitControls(camera, renderer.domElement);\n      controls.enableKeys = false;\n      window.addEventListener('resize', () => {\n        renderer.setSize(window.innerWidth, window.innerHeight);\n        camera.aspect = window.innerWidth / window.innerHeight;\n        camera.updateProjectionMatrix();\n      });\n      scene = new Physijs.Scene();\n      scene.setGravity(new THREE.Vector3(0, -3, 0));\n      scene.addEventListener('update', function () {\n        scene.simulate(undefined, 1);\n        impusle = new THREE.Vector3();\n        impusle.set(0, 0, 0);\n        sphere.applyCentralImpulse(impusle);\n      });\n      light = new THREE.SpotLight(0xffffff, 0.5);\n      light.intensity = 2;\n      var spotLightHelper = new THREE.SpotLightHelper(light);\n      scene.add(light);\n      light.position.set(0, 10, 20); //MATERIALES\n\n      materialClip = new THREE.MeshLambertMaterial({\n        color: 0x80ee10,\n        shininess: 10\n      });\n      cliprombo_material = new Physijs.createMaterial(materialClip, 6, // friction\n      0.2 // restitution\n      );\n      ground_material = new Physijs.createMaterial(new THREE.MeshLambertMaterial({\n        color: 0x2348888\n      }), 6, // friction\n      0.2 // restitution\n      );\n      paleta_material = new Physijs.createMaterial(new THREE.MeshLambertMaterial({\n        color: 0xab76db\n      }), 6, // friction\n      3 // restitution\n      );\n      pivot_material = new Physijs.createMaterial(new THREE.MeshLambertMaterial({\n        color: 0xef46db\n      }), 6, // friction\n      0.2 //restitution\n      );\n      tet1_material = new Physijs.createMaterial(new THREE.MeshLambertMaterial({\n        color: 0xac5861\n      }), 6, // hfriction\n      0.2 // restitution\n      );\n      tet2_material = new Physijs.createMaterial(new THREE.MeshLambertMaterial({\n        color: 0x9265ba\n      }), 6, 0.2);\n      transparente = new THREE.MeshLambertMaterial({\n        color: 0xff0000,\n        transparent: true,\n        opacity: 0.3\n      });\n      sphere_material = new Physijs.createMaterial(new THREE.MeshLambertMaterial({\n        color: 0xab76db\n      }), 2, // slippery\n      7 // bounciness\n      ); //OBJETOS\n\n      rombo = new Physijs.BoxMesh(new THREE.CubeGeometry(2, 2, 0.5), cliprombo_material, 0);\n      botonL = new Physijs.BoxMesh(new THREE.CubeGeometry(2, 2, 0.5), paleta_material, 0);\n      botonLp = new Physijs.BoxMesh(new THREE.CubeGeometry(1, 1, 0.5), cliprombo_material, 0);\n      botonL.add(botonLp);\n      botonLp.position.z = 0.5;\n      botonR = new Physijs.BoxMesh(new THREE.CubeGeometry(2, 2, 0.5), paleta_material, 0);\n      botonRp = new Physijs.BoxMesh(new THREE.CubeGeometry(1, 1, 0.5), cliprombo_material, 0);\n      botonR.add(botonRp);\n      botonRp.position.z = 0.5;\n      sphere = new Physijs.SphereMesh(new THREE.SphereGeometry(0.4, 0.4, 5), sphere_material, 0);\n      pIzq = new Physijs.BoxMesh(new THREE.CubeGeometry(2.5, 0.5, 1, 5, 5, 5), paleta_material, 1);\n      pDerecha = new Physijs.BoxMesh(new THREE.CubeGeometry(2.5, 0.5, 1, 5, 5, 5), paleta_material, 1);\n      cubo = new Physijs.BoxMesh(new THREE.BoxBufferGeometry(1, 1, 1), pivot_material, 0);\n      pivot = new Physijs.BoxMesh(new THREE.BoxGeometry(0.5, 0.5, 1), pivot_material, 0);\n      Lpivot = new Physijs.BoxMesh(new THREE.BoxGeometry(0.5, 0.5, 1), pivot_material, 0);\n      ;\n      piso = new Physijs.BoxMesh(new THREE.BoxGeometry(14, 3, 1), tet2_material, 0);\n      box = new Physijs.BoxMesh(new THREE.BoxGeometry(5, 0.2, 5), ground_material, 0);\n      cristal = new Physijs.BoxMesh(new THREE.CubeGeometry(14, 19, 0.2), transparente, 0);\n      techo = new Physijs.BoxMesh(new THREE.BoxBufferGeometry(14, 1, 1), ground_material, 0);\n      borde_left = new Physijs.BoxMesh(new THREE.BoxBufferGeometry(0.3, 20, 2), ground_material, 0);\n      borde_right = new Physijs.BoxMesh(new THREE.BoxBufferGeometry(0.3, 20, 2), ground_material, 0);\n      borde_right.position.set(7.2, 0, 1);\n      borde_left.position.set(-7.2, 0, 1);\n      techo.position.set(0, 9.5, 1);\n      botonR.position.set(8.2, -5.4, 1);\n      botonL.position.set(-8.2, -5.4, 1);\n      scene.add(botonL);\n      scene.add(botonR);\n      scene.add(borde_left);\n      scene.add(techo);\n      scene.add(borde_right);\n      cristal.position.z = 1;\n      rombo.rotation.z = 0.785398;\n      rombo.position.set(0, 4.5, 1);\n      box.position.set(0, 0, 0.5);\n      cristal.position.z = 1.5;\n      box.rotation.x = Math.PI / 2;\n      box.scale.set(3, 1, 4);\n      sphere.position.set(-3, 3, 1);\n      scene.add(box);\n      pivot.position.set(3.7, -4.5, 1);\n      pivot.rotation.z = 0.2;\n      Lpivot.scale.set(-1, 1, -1);\n      Lpivot.position.set(-3.7, -4.5, 1);\n      pIzq.position.set(1.6, 0, 0);\n      pDerecha.position.set(-1.6, 0, 0);\n      Lpivot.scale.set(1, -1, 1);\n      Lpivot.rotation.z = -0.2;\n      piso.position.set(0, -8.3, 1);\n      cubo.position.set(-6.5, -4, 1);\n      Lpivot.add(pIzq);\n      pivot.add(pDerecha);\n      scene.add(pivot);\n      scene.add(Lpivot);\n      scene.add(piso);\n      scene.add(rombo, cristal);\n      scene.add(cristal);\n      camera.position.z = 30;\n      scene.add(light, light.target, camera, ground); //LADOizq\n\n      crearRombos(4, 0.4, -6, 3.4, 0.35);\n      crearRombos(3, 0.4, -6, -2.8, 0.35);\n      crearRombos(1, 1, -5.3, -6, 2);\n      crearRombos(1, 0.7, -6, 0, 2); //LADOder\n\n      crearRombos(4, 0.4, 6, 3.4, 0.35);\n      crearRombos(3, 0.4, 6, -2.8, 0.35);\n      crearRombos(1, 1, 5.3, -6, 2);\n      crearRombos(1, 0.7, 6, 0, 2); //INTERACTIVIDAD\n\n      const domEvents = new THREEx.DomEvents(camera, renderer.domElement);\n      domEvents.addEventListener(botonR, 'click', event => {\n        moverPderecha();\n      });\n      domEvents.addEventListener(botonL, \"click\", event => {\n        moverPizquierda();\n      });\n      latimeLine = new TimelineMax();\n      animate();\n    } //FUNCIONES\n\n\n    function moverboton(boton) {\n      latimeLine.to(boton.position, 0.5, {\n        z: 1.2,\n        ease: Expo.easeOut\n      });\n      latimeLine.to(boton.position, 0.5, {\n        z: 1,\n        ease: Expo.easeOut\n      });\n    }\n\n    ;\n\n    function crearRombos(cantidad, tamano, lugarx, lugary, espacioentre) {\n      var j = 0;\n\n      for (var i = 0; i < cantidad; i++) {\n        otrorombo = new Physijs.BoxMesh(new THREE.CubeGeometry(2, 2, 0.5), paleta_material, 0);\n        lugary += espacioentre;\n        otrorombo.position.y = i + lugary;\n        otrorombo.position.z = 1;\n        otrorombo.position.x = lugarx;\n        otrorombo.scale.set(tamano, tamano, tamano);\n        otrorombo.rotation.z = 0.785398;\n        scene.add(otrorombo);\n      }\n    }\n\n    function moverPderecha() {\n      latimeLine.to(pivot.rotation, 0.1, {\n        z: -1.4,\n        ease: Expo.easeOut\n      });\n      latimeLine.to(pivot.rotation, 1.1, {\n        z: 0.2,\n        ease: Expo.easeOut\n      });\n    }\n\n    function moverPizquierda() {\n      latimeLine.to(Lpivot.rotation, 0.1, {\n        z: 1.4,\n        ease: Expo.easeOut\n      });\n      latimeLine.to(Lpivot.rotation, 1.1, {\n        z: -0.2,\n        ease: Expo.easeOut\n      });\n    }\n\n    function moverPalancas() {\n      pDerecha.__dirtyRotation = true;\n      pivot.__dirtyRotation = true;\n      pIzq.__dirtyRotation = true;\n      Lpivot.__dirtyRotation = true;\n      pDerecha.__dirtyPosition = true;\n      pivot.__dirtyPosition = true;\n      pIzq.__dirtyPosition = true;\n      Lpivot.__dirtyPosition = true;\n      botonL.__dirtyPosition = true;\n      botonR.__dirtyPosition = true;\n    }\n\n    ;\n\n    function moverCamara() {\n      camera.position.z = 24;\n      camera.position.y = 1;\n      camera.rotation.x = -0.0003;\n    }\n\n    ;\n\n    function keyDown(event) {\n      keyboard[event.keyCode] = true;\n    }\n\n    function keyUp(event) {\n      keyboard[event.keyCode] = false;\n    }\n\n    function keyLeft(event) {\n      keyboard[event.keyCode] = true;\n    }\n\n    function keyRight(event) {\n      keyboard[event.keyCode] = false;\n    }\n\n    function generarPelota() {\n      nuevapelota = new Physijs.SphereMesh(new THREE.SphereBufferGeometry(0.4, 20, 20), sphere_material, 3);\n      var num = Math.floor(Math.random() * 5) + 1;\n      num *= Math.floor(Math.random() * 1.5) == 1 ? 1 : -1;\n      nuevapelota.position.set(num, 6, 1);\n      return scene.add(nuevapelota);\n    }\n\n    function updateScoreBoard() {\n      scoreBoard.innerHTML = 'Score: ' + score.player1;\n      scoreBoard.style.position = 'absolute';\n    }\n\n    function mensajeGanaste() {\n      scoreBoard.innerHTML = 'Ganaste';\n      scoreBoard.style.fontsize = '20%';\n    }\n\n    function addPoint() {\n      score.player1 += 1;\n    }\n\n    function golpeColor(obj1, obj2, obj3, colore) {\n      box1 = new THREE.Box3().setFromObject(obj1);\n      box2 = new THREE.Box3().setFromObject(obj2);\n      box1.expandByScalar(1.2);\n      var intersects = box1.intersectsBox(box2);\n\n      if (intersects && obj3.material.color != colore) {\n        obj3.material.color.setHex(colore);\n      } else {\n        obj3.material.color.setHex(0x992073);\n      }\n    }\n\n    function inter(obj1, obj2) {\n      box1 = new THREE.Box3().setFromObject(obj1);\n      box2 = new THREE.Box3().setFromObject(obj2);\n      var intersects = box1.intersectsBox(box2);\n\n      if (intersects) {\n        score.player1 -= 1;\n        sacarynpelota();\n\n        if (frames % 2 == 0) {\n          btron(1, Math.random() * 2, -1, 0x8f34eb);\n        } else if (frames % 3 == 0) {\n          btrin(1, Math.random() * 2, -1, 0x992073);\n        } else {\n          barrita(1, Math.random() * 2, -1, 0xffec40);\n        }\n      }\n    }\n\n    function crearCubo(colore) {\n      var geo = new THREE.CubeGeometry(0.46, 0.46, 0.46);\n      var material = new Physijs.createMaterial(new THREE.MeshLambertMaterial({\n        color: colore\n      }), 6, // high friction\n      0.1 // low restitution\n      );\n      var ncubo = new Physijs.BoxMesh(geo, material, 1);\n      return ncubo;\n    }\n\n    function barrita(tamano, x, y, colore) {\n      var group = new Physijs.BoxMesh(new THREE.BoxBufferGeometry(0.1, 0.1, 0.1), pivot_material, 1);\n\n      for (var i = 0; i < 4; i++) {\n        var barrita = crearCubo(colore);\n        barrita.position.x = 0;\n        barrita.position.y = i / 2;\n        group.add(barrita);\n      }\n\n      group.scale.set(tamano, tamano, tamano);\n      group.position.set(x, y, 1);\n      group.rotation.z = 0;\n      scene.add(group);\n    }\n\n    function btrin(tamano, x, y, colore) {\n      var group = new Physijs.BoxMesh(new THREE.BoxBufferGeometry(0.1, 0.1, 0.1), tet2_material, 0.2);\n\n      for (var i = 0; i < 3; i++) {\n        var btrin = crearCubo(colore);\n        btrin.position.x = 0;\n        btrin.position.y = i / 2;\n        group.add(btrin);\n      }\n\n      var eldearriba = crearCubo(colore);\n      eldearriba.position.x = -0.5;\n      group.add(eldearriba);\n      group.scale.set(tamano, tamano, tamano);\n      group.position.set(x, y, 1);\n      scene.add(group);\n    }\n\n    function btron(tamano, x, y, colore) {\n      var group = new Physijs.BoxMesh(new THREE.BoxBufferGeometry(0.1, 0.1, 0.1), pivot_material, 1);\n\n      for (var i = 0; i < 3; i++) {\n        var btrin = crearCubo(colore);\n        btrin.position.x = 0;\n        btrin.position.y = i / 2;\n        group.add(btrin);\n      }\n\n      var eldearriba = crearCubo(colore);\n      eldearriba.position.x = -0.5;\n      eldearriba.position.y = 0.5;\n      group.add(eldearriba);\n      group.scale.set(tamano, tamano, tamano);\n      group.position.set(x, y, 1);\n      scene.add(group);\n    }\n\n    function sacarynpelota() {\n      scene.remove(nuevapelota);\n      generarPelota();\n    } //LOOP\n\n\n    function animate() {\n      scene.simulate();\n      scene.addEventListener('update', moverPalancas);\n\n      if (frames == 0) {\n        generarPelota();\n      }\n\n      if (nuevapelota != undefined) {\n        nuevapelota.applyCentralImpulse(impusle);\n      }\n\n      ;\n      golpeColor(rombo, nuevapelota, rombo, 0Xf7ed2d);\n      inter(piso, nuevapelota);\n      updateScoreBoard();\n\n      if (score.player1 > 400) {\n        mensajeGanaste();\n      }\n\n      scene.addEventListener(\"update\", function () {\n        scene.simulate(undefined, 2);\n      });\n      renderer.render(scene, camera);\n      frames += 1;\n      requestAnimationFrame(animate);\n    }\n\n    ;\n    window.onload = init; // === THREE.JS EXAMPLE CODE END ===\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 619,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render( /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 624,\n  columnNumber: 17\n}, this), rootElement);","map":{"version":3,"sources":["C:/Users/Rod/Desktop/TetrisBall/src/index.js"],"names":["React","Component","ReactDOM","THREE","Physijs","OrbitControls","App","componentDidMount","titulocambia","document","getElementById","fadeout","classList","toggle","camera","keyboard","renderer","scene","light","geometry","material","lacabra","piso","mpiso","pisomaterial","physics_stats","table","intersect_plane","table_material","ground","setMousePosition","mouse_position","box","sphere_material","borde_left","borde_right","box1","box2","cubo","mtrap","trap","prectangular","transparente","materialClip","cliprombo_material","nuevapelota","cristal","impulse","frames","tet2_material","rombo","tet1_material","pivot","Lpivot","pDerecha","pIzq","puntos","latimeLine","scoreboard","score","player1","tri","raycaster","Raycaster","init","impusle","Vector3","set","PerspectiveCamera","window","innerWidth","innerHeight","WebGLRenderer","antialias","setClearColor","setSize","shadowMap","enabled","type","PCFSoftShadowMap","body","appendChild","domElement","controls","enableKeys","addEventListener","aspect","updateProjectionMatrix","Scene","setGravity","simulate","undefined","sphere","applyCentralImpulse","SpotLight","intensity","spotLightHelper","SpotLightHelper","add","position","MeshLambertMaterial","color","shininess","createMaterial","ground_material","paleta_material","pivot_material","transparent","opacity","BoxMesh","CubeGeometry","botonL","botonLp","z","botonR","botonRp","SphereMesh","SphereGeometry","BoxBufferGeometry","BoxGeometry","techo","rotation","x","Math","PI","scale","target","crearRombos","domEvents","THREEx","DomEvents","event","moverPderecha","moverPizquierda","TimelineMax","animate","moverboton","boton","to","ease","Expo","easeOut","cantidad","tamano","lugarx","lugary","espacioentre","j","i","otrorombo","y","moverPalancas","__dirtyRotation","__dirtyPosition","moverCamara","keyDown","keyCode","keyUp","keyLeft","keyRight","generarPelota","SphereBufferGeometry","num","floor","random","updateScoreBoard","scoreBoard","innerHTML","style","mensajeGanaste","fontsize","addPoint","golpeColor","obj1","obj2","obj3","colore","Box3","setFromObject","expandByScalar","intersects","intersectsBox","setHex","inter","sacarynpelota","btron","btrin","barrita","crearCubo","geo","ncubo","group","eldearriba","remove","render","requestAnimationFrame","onload","rootElement"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as THREE from \"./Three\";\nimport * as Physijs from \"./physi\";\nimport * as OrbitControls from \"./OrbitControls\";\n\nclass App extends Component {\n  componentDidMount() {\n    // === THREE.JS CODE START ===\n    const titulocambia = document.getElementById('titulo');\n\n    function fadeout(){\n        titulocambia.classList.toggle('fade-out');\n    }\n    \n    var camera, keyboard, renderer, scene, light, geometry, material, lacabra, piso, mpiso, pisomaterial,\n    physics_stats, table, intersect_plane, table_material, ground, setMousePosition, mouse_position, box, sphere_material,\n    borde_left, borde_right, box1, box2, piso, cubo, mtrap, trap, prectangular, transparente, materialClip, cliprombo_material,\n    nuevapelota, cristal, impulse, frames, tet2_material, rombo, tet1_material, pivot, Lpivot, pDerecha, pIzq, puntos, latimeLine,\n    scoreboard, score = {player1: 0};\n    \n    \n    var keyboard = {};\n    \n    scoreboard = document.getElementById('scoreBoard');\n    \n    var tri;\n    \n    var raycaster = new THREE.Raycaster();\n    \n    \n    \n    //BASE\n    \n    function init(){\n    \n    frames = 0;\n    \n    puntos = 0;\n    \n    impusle = new THREE.Vector3;\n                impusle.set( 0, 0, 0 );\n    \n    camera = new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,0.1,1000);\n    \n    \n    renderer = new THREE.WebGLRenderer({antialias: true});\n    \n              renderer.setClearColor(\"#000000\");\n              renderer.setSize(window.innerWidth, window.innerHeight);\n              renderer.shadowMap.enabled = true;\n              renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n    \n              document.body.appendChild(renderer.domElement);\n    \n    controls = new THREE.OrbitControls(camera, renderer.domElement);\n    \n    controls.enableKeys = false;\n    \n    window.addEventListener('resize', () => {\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    camera.aspect = window.innerWidth/window.innerHeight;\n    \n    camera.updateProjectionMatrix();\n    });\n    \n    \n    scene = new Physijs.Scene;\n      scene.setGravity(new THREE.Vector3( 0, -3, 0 ));\n        scene.addEventListener(\n          'update',\n                \n              function() {\n                scene.simulate( undefined, 1 );\n                impusle = new THREE.Vector3;\n                impusle.set( 0, 0, 0 );\n                sphere.applyCentralImpulse( impusle);\n                }\n        );\n    \n    light = new THREE.SpotLight(  0xffffff, 0.5 );\n    light.intensity = 2;\n    \n    var spotLightHelper = new THREE.SpotLightHelper( light );\n    scene.add( light);\n    \n    light.position.set(0,10,20);\n    \n    \n    \n    //MATERIALES\n    \n    \n    materialClip = new THREE.MeshLambertMaterial( {\n        color: 0x80ee10,\n        shininess: 10,\n    } );\n    \n    \n    cliprombo_material = new Physijs.createMaterial(\n        materialClip,\n        6, // friction\n        0.2 // restitution\n    );\n    \n    \n    ground_material = new Physijs.createMaterial(\n        new THREE.MeshLambertMaterial({ color:0x2348888 }),\n        6, // friction\n        0.2// restitution\n    );\n    \n    paleta_material = new Physijs.createMaterial(\n        new THREE.MeshLambertMaterial({ color:0xab76db }),\n        6, // friction\n        3// restitution\n    );\n    \n    pivot_material = new Physijs.createMaterial(\n        new THREE.MeshLambertMaterial({ color:0xef46db }),\n        6, // friction\n        0.2 //restitution\n    );\n    \n    tet1_material = new Physijs.createMaterial(\n        new THREE.MeshLambertMaterial({ color:0xac5861 }),\n        6, // hfriction\n        0.2// restitution\n    );\n    \n    tet2_material = new Physijs.createMaterial(\n        new THREE.MeshLambertMaterial({ color:0x9265ba }),\n        6, \n        0.2\n    );\n    \n    transparente = new THREE.MeshLambertMaterial({color: 0xff0000, transparent: true, opacity: 0.3});\n    \n    sphere_material = new Physijs.createMaterial(\n        new THREE.MeshLambertMaterial({ color:0xab76db }),\n        2, // slippery\n        7 // bounciness\n    );\n    \n    \n    \n    //OBJETOS\n    \n    \n    rombo = new Physijs.BoxMesh(\n            new THREE.CubeGeometry( 2, 2, 0.5 ),\n            cliprombo_material,\n            0\n            );\n    \n    botonL = new Physijs.BoxMesh(\n            new THREE.CubeGeometry( 2, 2, 0.5 ),\n            paleta_material ,\n             0\n             );\n             botonLp = new Physijs.BoxMesh(\n                new THREE.CubeGeometry( 1, 1, 0.5 ),\n                cliprombo_material ,\n                 0\n                 );\n                botonL.add(botonLp)  \n                botonLp.position.z = 0.5;\n    \n    botonR = new Physijs.BoxMesh(\n             new THREE.CubeGeometry( 2,2, 0.5 ),\n             paleta_material,\n             0\n             );  \n             botonRp = new Physijs.BoxMesh(\n                new THREE.CubeGeometry( 1, 1, 0.5 ),\n                cliprombo_material,\n                0\n                );        \n                botonR.add(botonRp)  \n                botonRp.position.z = 0.5;\n    \n    \n    sphere = new Physijs.SphereMesh( \n             new THREE.SphereGeometry( 0.4, 0.4, 5 ),\n                sphere_material,0);\n    \n    pIzq = new Physijs.BoxMesh(\n               new THREE.CubeGeometry( 2.5, 0.5, 1,5,5,5 ),\n               paleta_material,\n               1\n               );\n    \n    pDerecha = new Physijs.BoxMesh(\n               new THREE.CubeGeometry( 2.5, 0.5, 1,5,5,5 ),\n               paleta_material,\n               1\n               );\n    \n    cubo = new Physijs.BoxMesh(\n            new THREE.BoxBufferGeometry( 1, 1, 1 ),\n            pivot_material,\n            0\n            );\n    \n    pivot = new Physijs.BoxMesh(\n        new THREE.BoxGeometry( 0.5, 0.5, 1 ),\n        pivot_material,\n        0\n        );\n    \n    Lpivot = new Physijs.BoxMesh(\n        new THREE.BoxGeometry( 0.5, 0.5, 1 ),\n        pivot_material,\n        0\n        );;\n    \n    piso = new Physijs.BoxMesh(\n         new THREE.BoxGeometry( 14, 3, 1 ),\n         tet2_material,\n         0\n        );\n    \n    box = new Physijs.BoxMesh(\n        new THREE.BoxGeometry( 5, 0.2, 5 ),\n        ground_material,\n        0\n    );\n    \n    cristal = new Physijs.BoxMesh(\n        new THREE.CubeGeometry( 14,19, 0.2 ),\n        transparente,\n        0\n    );\n    \n    \n    techo =  new Physijs.BoxMesh(\n        new THREE.BoxBufferGeometry( 14, 1, 1 ),\n        ground_material,\n        0\n    );\n    \n    \n    borde_left =  new Physijs.BoxMesh(\n        new THREE.BoxBufferGeometry( 0.3, 20, 2 ),\n        ground_material,\n        0\n    );\n    \n    \n    borde_right =  new Physijs.BoxMesh(\n        new THREE.BoxBufferGeometry( 0.3, 20, 2 ),\n        ground_material,\n        0\n    );\n    \n    borde_right.position.set(7.2,0,1);\n    borde_left.position.set(-7.2,0,1);\n    techo.position.set(0,9.5,1);\n    \n    botonR.position.set(8.2,-5.4,1);\n    botonL.position.set(-8.2,-5.4,1);\n    scene.add(botonL);\n    scene.add(botonR);\n    \n    scene.add(borde_left);\n    scene.add(techo);\n    scene.add(borde_right);\n    cristal.position.z = 1;\n    rombo.rotation.z = 0.785398;\n    rombo.position.set(0,4.5,1);\n    box.position.set(0,0,0.5);\n    cristal.position.z = 1.5;\n    box.rotation.x = Math.PI/2;\n    box.scale.set(3,1,4);\n    sphere.position.set(-3,3,1);\n    scene.add( box );\n    pivot.position.set(3.7,-4.5,1);\n    pivot.rotation.z = 0.2;\n    Lpivot.scale.set(-1,1,-1);\n    Lpivot.position.set(-3.7,-4.5,1);\n    pIzq.position.set(1.6,0,0);\n    pDerecha.position.set(-1.6,0,0);\n    Lpivot.scale.set(1,-1,1);\n    Lpivot.rotation.z = -0.2;\n    piso.position.set(0,-8.3,1)\n    \n    cubo.position.set(-6.5,-4,1);\n    Lpivot.add(pIzq);\n    pivot.add(pDerecha);\n    scene.add(pivot);\n    scene.add(Lpivot);\n    scene.add(piso);\n    scene.add(rombo,cristal);\n    scene.add(cristal);\n    \n    camera.position.z = 30;\n    scene.add(light, light.target,camera,ground);\n    \n    //LADOizq\n    crearRombos(4,0.4,-6,3.4, 0.35);\n    crearRombos(3,0.4,-6,-2.8, 0.35);\n    crearRombos(1,1,-5.3,-6,2);\n    crearRombos(1,0.7,-6,0,2);\n    \n    //LADOder\n    crearRombos(4,0.4,6,3.4, 0.35);\n    crearRombos(3,0.4,6,-2.8, 0.35);\n    crearRombos(1,1,5.3,-6,2);\n    crearRombos(1,0.7,6,0,2);\n    \n    \n    \n    //INTERACTIVIDAD\n    \n    \n    const domEvents = new THREEx.DomEvents(camera, renderer.domElement);\n    \n    domEvents.addEventListener(botonR, 'click', event =>{\n        moverPderecha();\n    })\n    \n    \n    domEvents.addEventListener(botonL, \"click\", event =>{\n        moverPizquierda();\n    })\n    \n    \n    latimeLine = new TimelineMax();\n    \n    \n    \n    animate();\n    \n    \n    }\n    \n    \n    //FUNCIONES\n    \n    \n    \n    function moverboton(boton){\n        latimeLine.to(boton.position, 0.5, {z:1.2, ease: Expo.easeOut});\n        latimeLine.to(boton.position, 0.5, {z:1, ease: Expo.easeOut});\n    };\n    \n    \n    function crearRombos(cantidad, tamano, lugarx, lugary, espacioentre){\n        var j = 0;\n        for (var i = 0; i < cantidad; i++){\n            otrorombo = new Physijs.BoxMesh(\n                new THREE.CubeGeometry( 2, 2, 0.5 ),\n                paleta_material,\n                0\n                );\n        \n                lugary += espacioentre;\n                otrorombo.position.y = i + lugary;\n                otrorombo.position.z = 1;\n                otrorombo.position.x = lugarx;\n                otrorombo.scale.set(tamano,tamano, tamano);\n                otrorombo.rotation.z = 0.785398; \n                scene.add(otrorombo);\n        }\n    }\n    \n    \n    \n    function moverPderecha(){\n        latimeLine.to(pivot.rotation, 0.1, {z:-1.4, ease: Expo.easeOut});\n        latimeLine.to(pivot.rotation, 1.1, {z:0.2, ease: Expo.easeOut});\n    }\n    \n    function moverPizquierda(){\n        latimeLine.to(Lpivot.rotation, 0.1, {z:1.4, ease: Expo.easeOut});\n        latimeLine.to(Lpivot.rotation, 1.1, {z:-0.2, ease: Expo.easeOut});\n    }\n    \n    \n    function moverPalancas(){\n        pDerecha.__dirtyRotation = true;\n        pivot.__dirtyRotation = true;\n        pIzq.__dirtyRotation = true;\n        Lpivot.__dirtyRotation = true;\n        pDerecha.__dirtyPosition = true;\n        pivot.__dirtyPosition = true;\n        pIzq.__dirtyPosition = true;\n        Lpivot.__dirtyPosition = true;\n        botonL.__dirtyPosition = true;\n        botonR.__dirtyPosition = true;\n    };\n    \n    function moverCamara(){\n        camera.position.z = 24;\n        camera.position.y = 1;\n        camera.rotation.x = -0.0003;\n    };\n    \n    function keyDown(event){\n        keyboard[event.keyCode] = true;\n    }\n    \n    function keyUp(event){\n        keyboard[event.keyCode] = false;\n    }\n    \n    function keyLeft(event){\n        keyboard[event.keyCode] = true;\n    }\n    \n    function keyRight(event){\n        keyboard[event.keyCode] = false;\n    }\n    \n    \n    function generarPelota(){\n        nuevapelota = new Physijs.SphereMesh( \n               new THREE.SphereBufferGeometry( 0.4, 20, 20 ),\n               sphere_material, 3);\n            \n    \n        var num = Math.floor(Math.random()*5) + 1; \n            num *= Math.floor(Math.random()*1.5) == 1 ? 1 : -1;\n        nuevapelota.position.set(num,6, 1);\n    \n    \n        return scene.add(nuevapelota);\n    }\n    \n    function updateScoreBoard() {\n        scoreBoard.innerHTML = 'Score: ' + score.player1;\n        scoreBoard.style.position = 'absolute';\n    }\n    \n    function mensajeGanaste(){\n        scoreBoard.innerHTML = 'Ganaste';\n        scoreBoard.style.fontsize = '20%';\n    }\n    \n    function addPoint(){\n        score.player1 +=1;\n      }\n    \n      \n    function golpeColor(obj1,obj2,obj3, colore){\n    \n        box1 = new THREE.Box3().setFromObject(obj1);\n    \n        box2 = new THREE.Box3().setFromObject(obj2);\n    \n        box1.expandByScalar ( 1.2 );\n    \n        var intersects = box1.intersectsBox(box2);\n        if( intersects && obj3.material.color != colore){\n            obj3.material.color.setHex(colore);\n        } else {\n            obj3.material.color.setHex(0x992073);\n        }\n    }\n    \n    \n    function inter(obj1,obj2){\n        box1 = new THREE.Box3().setFromObject(obj1);\n    \n        box2 = new THREE.Box3().setFromObject(obj2);\n    \n        var intersects = box1.intersectsBox(box2);\n    \n        if( intersects ){\n            score.player1 -= 1;\n            sacarynpelota();\n            if (frames % 2 == 0){\n                btron(1,Math.random()*2,-1,0x8f34eb)\n                } else if( frames% 3 == 0) {\n                    btrin(1,Math.random()*2,-1,0x992073)\n                    } else {\n                        barrita(1,Math.random()*2,-1,0xffec40)\n                         }\n        }\n    \n    }\n    \n    function crearCubo(colore){\n    \n      var geo = new THREE.CubeGeometry( 0.46, 0.46, 0.46 )\n    \n      var material = new Physijs.createMaterial(\n        new THREE.MeshLambertMaterial({ color:colore }),\n        6, // high friction\n        0.1 // low restitution\n    );\n      \n      var ncubo = new Physijs.BoxMesh(\n            geo,\n            material,\n            1\n            );\n    \n        return ncubo;\n    \n    }\n    \n    \n    \n    function barrita(tamano, x, y, colore){\n        var group = new Physijs.BoxMesh(\n            new THREE.BoxBufferGeometry( 0.1, 0.1, 0.1 ),\n            pivot_material,\n            1);\n        for (var i = 0; i < 4; i++ ){\n            var barrita = crearCubo(colore);\n            barrita.position.x = 0;\n            barrita.position.y = i/2;\n            group.add(barrita);\n        }\n        group.scale.set(tamano,tamano,tamano);\n        group.position.set(x,y,1)\n        group.rotation.z = 0;\n    \n        scene.add(group);\n    }\n    \n    \n    function btrin(tamano,x,y,colore){\n        var group = new Physijs.BoxMesh(\n            new THREE.BoxBufferGeometry( 0.1, 0.1, 0.1 ),\n            tet2_material,\n            0.2);\n        for (var i = 0; i < 3; i++ ){\n            var btrin = crearCubo(colore);\n            btrin.position.x = 0;\n            btrin.position.y = i/2;\n    \n            group.add(btrin);\n    \n        }\n        var eldearriba = crearCubo(colore)\n        eldearriba.position.x = -0.5;\n        group.add(eldearriba);\n        group.scale.set(tamano,tamano,tamano);\n        group.position.set(x,y,1)\n        scene.add(group);\n    }\n    \n    function btron(tamano,x,y, colore){\n        var group = new Physijs.BoxMesh(\n            new THREE.BoxBufferGeometry( 0.1, 0.1, 0.1 ),\n            pivot_material,\n            1);\n        for (var i = 0; i < 3; i++ ){\n            var btrin = crearCubo(colore);\n            btrin.position.x = 0;\n            btrin.position.y = i/2;\n            group.add(btrin);\n        }\n    \n        var eldearriba = crearCubo(colore)\n        eldearriba.position.x = -0.5;\n        eldearriba.position.y = 0.5;\n        group.add(eldearriba);\n        group.scale.set(tamano,tamano,tamano);\n        group.position.set(x,y,1)\n    \n        scene.add(group);\n    }\n    \n    function sacarynpelota(){\n        scene.remove(nuevapelota);\n        generarPelota();\n    }\n    \n    \n    \n    \n    \n    //LOOP\n    \n    \n    function animate() {\n        scene.simulate();\n    \n        scene.addEventListener('update', moverPalancas);\n    \n        \n        \n        if (frames == 0){\n            generarPelota();\n        }\n        \n        if (nuevapelota != undefined){\n            nuevapelota.applyCentralImpulse( impusle);\n        };\n        golpeColor(rombo, nuevapelota, rombo, 0Xf7ed2d);\n        inter(piso, nuevapelota);\n      \n        updateScoreBoard();\n        if (score.player1 > 400){\n            mensajeGanaste();\n        }\n    \n        scene.addEventListener(\"update\", function(){\n            scene.simulate(undefined, 2);\n        });\n    \n        renderer.render(scene, camera);\n        frames += 1;\n        requestAnimationFrame(animate);\n    };\n    \n    \n    \n    \n     window.onload = init;\n    \n    // === THREE.JS EXAMPLE CODE END ===\n  }\n  render() {\n    return (\n      <div />\n    )\n  }\n}\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);"]},"metadata":{},"sourceType":"module"}